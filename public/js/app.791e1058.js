(function(t){function e(e){for(var s,o,n=e[0],c=e[1],l=e[2],d=0,p=[];d<n.length;d++)o=n[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(p.length)p.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,o=1;o<a.length;o++){var c=a[o];0!==i[c]&&(s=!1)}s&&(r.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},i={app:0},r=[];function o(t){return n.p+"js/"+({}[t]||t)+"."+{"chunk-59a80db7":"c34e5bb3"}[t]+".js"}function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.e=function(t){var e=[],a=i[t];if(0!==a)if(a)e.push(a[2]);else{var s=new Promise((function(e,s){a=i[t]=[e,s]}));e.push(a[2]=s);var r,c=document.createElement("script");c.charset="utf-8",c.timeout=120,n.nc&&c.setAttribute("nonce",n.nc),c.src=o(t);var l=new Error;r=function(e){c.onerror=c.onload=null,clearTimeout(d);var a=i[t];if(0!==a){if(a){var s=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+s+": "+r+")",l.name="ChunkLoadError",l.type=s,l.request=r,a[1](l)}i[t]=void 0}};var d=setTimeout((function(){r({type:"timeout",target:c})}),12e4);c.onerror=c.onload=r,document.head.appendChild(c)}return Promise.all(e)},n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var u=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"062f":function(t,e,a){t.exports=a.p+"img/education-large.69b26c46.jpg"},"0ae7":function(t,e,a){t.exports=a.p+"img/education-small.f4e7057c.jpg"},1:function(t,e){},1582:function(t,e,a){},1931:function(t,e,a){"use strict";a("1582")},"1f5a":function(t,e,a){t.exports=a.p+"img/emp1.93e8a447.jpg"},2:function(t,e){},"273f":function(t,e,a){t.exports=a.p+"img/homepage-3-simple.7a109c4a.jpg"},"2b7b":function(t,e,a){t.exports=a.p+"img/marketing-small.e89f09cc.jpg"},"2db6":function(t,e,a){t.exports=a.p+"img/business-large.2a5b88ea.jpg"},"3c61":function(t,e,a){},4678:function(t,e,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=r(t);return a(e)}function r(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}i.keys=function(){return Object.keys(s)},i.resolve=r,t.exports=i,i.id="4678"},"48ce":function(t,e,a){t.exports=a.p+"img/marketing-large.57c356d0.jpg"},"4ffd":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD8AAAA+CAYAAACcA8N6AAAACXBIWXMAAA7EAAAOxAGVKw4bAAACP0lEQVR4Xu1Za2+DMAzkqX7e//+ZlTZ1gjBflmxVpRE7ISOtLhLqB86POxMa7K7jogJUgApQASpABagAFaACL6NAb2Wyrits+nEc3bIs4zAMbs+Hc26YpknM1gE21ng18WbySEYIb0IKv922bbv59X3fRaz8quKJ30WwEDbl34l/5NKjCLLmmmJ54hJgm+fZ/2quiA22u/mBeIH/z6rkobQ8xp705XJJko8Y2MA2lVyh/zXlv+i+7FtPOD4BmspHbLDdjV/oH0+Neqn24L03VCa1z/+Kjv0vtrsxC/078T9q2Q9aIHDaF5bF55lYE3nNC+tMMtbYJvJW5yfgTdv41cib9CZ5k1zfB5ua69+OwDmVr02+RFjuea16OZXX+m4eR/LGEpn2ldF3MdxyCs2pfNPkRT11fjnki6tT2YGakxpYOeEj3df5qjsyw4q+Jq3v5iofvsfRJbppSQjWQ6VJ+ib9gA+tnfrlEB0WNhuSzYy9xEMjxHePw+WLh2YnmpfSKrtqWmU/XLQqtUDemmsK39xjn0r4yPskf6Saz+SLlX+mah2Zq7ny9z17+WtJ5nKPye33J4NkAsz/8xJnk6lKPFSowj7gc2Kq4lhB5sqHQ4U1jp/UtrayyGPsJEdJP6JOLWCAhU1rK539Q8ZhDm7mEWb0daeoxqzM5GXWfosV1zzKEYNRl9jWnZ8byefCF/mSuooxRsK4UFFc2NiP1yrY93A/Nx7tqAAVoAJUgApQASpABagAFaACVIAKUIFfBb4Ak3sBKLu4VtsAAAAASUVORK5CYII="},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.boards?a("div",{style:t.boardStyle,attrs:{id:"app"}},[a("app-header",{style:t.defaultBackground,attrs:{users:t.users,user:t.user,boards:t.boards},on:{logOut:t.logOut,createBoard:t.createBoard}}),a("router-view")],1):t._e()},r=[],o=a("1da1"),n=(a("99af"),a("96cf"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"header-navbar"},[a("div",{staticClass:"header-controls-left"},[a("router-link",{staticClass:"link-home",attrs:{to:"/"}},[a("svg",{attrs:{width:"20",height:"20",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.58579 10.4142C3.21071 10.7893 3 11.298 3 11.8284V19C3 20.1045 3.89543 21 5 21H10C10.5523 21 11 20.5523 11 20V14H13V20C13 20.5523 13.4477 21 14 21H19C20.1046 21 21 20.1045 21 19V11.8284C21 11.298 20.7893 10.7893 20.4142 10.4142L12.7071 2.70708C12.3166 2.31655 11.6834 2.31655 11.2929 2.70708L3.58579 10.4142ZM13 12C14.1046 12 15 12.8954 15 14V19H19V11.8284L12 4.8284L5 11.8284V19H9V14C9 12.8954 9.89543 12 11 12H13Z",fill:"currentColor"}})])]),a("button",{staticClass:"btn-boards",on:{click:t.toggleBoardsMenu}},[a("svg",{attrs:{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3 5C3 3.89543 3.89543 3 5 3H19C20.1046 3 21 3.89543 21 5V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V5ZM5 6C5 5.44772 5.44772 5 6 5H10C10.5523 5 11 5.44772 11 6V16C11 16.5523 10.5523 17 10 17H6C5.44772 17 5 16.5523 5 16V6ZM14 5C13.4477 5 13 5.44772 13 6V12C13 12.5523 13.4477 13 14 13H18C18.5523 13 19 12.5523 19 12V6C19 5.44772 18.5523 5 18 5H14Z",fill:"currentColor"}})]),a("span",{staticClass:"btn-boards-txt"},[t._v("Boards")])]),a("boards-menu",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeBoardsMenu,expression:"closeBoardsMenu"}],ref:"boardsmenu",staticClass:"hideBoardsMenu",class:t.boardsShowMenu,attrs:{boards:t.boards},on:{removeBoard:t.removeBoard,createBoard:t.createBoard,closeBoardsMenu:t.closeBoardsMenu}}),a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeSearch,expression:"closeSearch"}],staticClass:"headerSearchClosed",class:{headerSearchOpen:t.isSearchOpen},on:{click:t.openSearch}},[t.isSearchOpen?a("input",{directives:[{name:"model",rawName:"v-model",value:t.filterBy,expression:"filterBy"}],staticClass:"header-search-input",attrs:{type:"text",placeholder:"Search..."},domProps:{value:t.filterBy},on:{input:[function(e){e.target.composing||(t.filterBy=e.target.value)},t.setFilter]}}):a("input",{staticClass:"header-search-input",attrs:{type:"text",placeholder:"Jump to..."}}),a("span",{staticClass:"search-input-img"},[t.isSearchOpen?t._e():a("svg",{attrs:{width:"20",height:"20",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.5 18C6.35786 18 3 14.6421 3 10.5C3 6.35786 6.35786 3 10.5 3C14.6421 3 18 6.35786 18 10.5C18 12.2269 17.4164 13.8175 16.4356 15.0852L20.3769 19.0953C20.764 19.4892 20.7586 20.1223 20.3647 20.5095C19.9708 20.8966 19.3376 20.8911 18.9505 20.4972L15.0129 16.4909C13.7572 17.4383 12.1942 18 10.5 18ZM16 10.5C16 13.5376 13.5376 16 10.5 16C7.46243 16 5 13.5376 5 10.5C5 7.46243 7.46243 5 10.5 5C13.5376 5 16 7.46243 16 10.5Z",fill:"currentColor"}})]),t.isSearchOpen?a("svg",{attrs:{width:"20",height:"20",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(e){return e.stopPropagation(),t.closeSearch.apply(null,arguments)}}},[a("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.5858 12L5.29289 6.70711C4.90237 6.31658 4.90237 5.68342 5.29289 5.29289C5.68342 4.90237 6.31658 4.90237 6.70711 5.29289L12 10.5858L17.2929 5.29289C17.6834 4.90237 18.3166 4.90237 18.7071 5.29289C19.0976 5.68342 19.0976 6.31658 18.7071 6.70711L13.4142 12L18.7071 17.2929C19.0976 17.6834 19.0976 18.3166 18.7071 18.7071C18.3166 19.0976 17.6834 19.0976 17.2929 18.7071L12 13.4142L6.70711 18.7071C6.31658 19.0976 5.68342 19.0976 5.29289 18.7071C4.90237 18.3166 4.90237 17.6834 5.29289 17.2929L10.5858 12Z",fill:"currentColor"}})]):t._e()]),a("transition",{attrs:{name:"fade"}},[t.isSearchOpen?a("search-boards",{attrs:{boardsForDisplay:t.boardsForDisplay},on:{closeSearch:t.closeSearch}}):t._e()],1)],1)],1),t._m(0),a("div",{staticClass:"header-controls-right"},[t.user&&!t.user._id?a("button",{staticClass:"user-login",on:{click:t.login}},[t._v("Login")]):t._e(),a("button",{staticClass:"btn-notifications",style:{backgroundColor:t.isNotified},on:{click:t.toggleNotifications}},[a("svg",{attrs:{width:"20",height:"20",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 2C11.4477 2 11 2.44772 11 3V3.078C10.2728 3.19668 9.65318 3.44603 9.1328 3.79295C8.39456 4.28511 7.91489 4.93416 7.60557 5.55279C7.29822 6.1675 7.14952 6.77011 7.07611 7.2106C7.039 7.43322 7.02007 7.62092 7.01035 7.75688C7.00549 7.82503 7.0029 7.88067 7.00153 7.92176C7.00085 7.94232 7.00046 7.95929 7.00025 7.9724L7.00005 7.98916L7.00001 7.99533L7 7.99786L7 7.99898C7 7.9995 7 8 8 8H7V11.723L4.14251 16.4855C3.95715 16.7944 3.95229 17.1792 4.1298 17.4927C4.30731 17.8062 4.63973 18 5 18H19C19.3603 18 19.6927 17.8062 19.8702 17.4927C20.0477 17.1792 20.0429 16.7944 19.8575 16.4855L17 11.723V8H16C17 8 17 7.9995 17 7.99898L17 7.99786L17 7.99533L17 7.98916L16.9997 7.9724C16.9995 7.95929 16.9992 7.94232 16.9985 7.92176C16.9971 7.88067 16.9945 7.82503 16.9896 7.75688C16.9799 7.62092 16.961 7.43322 16.9239 7.2106C16.8505 6.77011 16.7018 6.1675 16.3944 5.55279C16.0851 4.93416 15.6054 4.28511 14.8672 3.79295C14.3468 3.44603 13.7272 3.19668 13 3.078V3C13 2.44772 12.5523 2 12 2ZM9.00042 7.98839L9 8.00435V12C9 12.1812 8.95074 12.3591 8.85749 12.5145L6.76619 16H17.2338L15.1425 12.5145C15.0493 12.3591 15 12.1812 15 12V8.00436L14.9996 7.98839C14.999 7.97089 14.9977 7.9406 14.9947 7.89937C14.9888 7.81658 14.9765 7.69178 14.9511 7.5394C14.8995 7.22989 14.7982 6.8325 14.6056 6.44721C14.4149 6.06584 14.1446 5.71489 13.7578 5.45705C13.3773 5.20338 12.825 5 12 5C11.175 5 10.6227 5.20338 10.2422 5.45705C9.85544 5.71489 9.58511 6.06584 9.39443 6.44721C9.20178 6.8325 9.10048 7.22989 9.04889 7.5394C9.0235 7.69178 9.01118 7.81658 9.00527 7.89937C9.00233 7.9406 9.001 7.97089 9.00042 7.98839ZM14 19C14 20.1046 13.1046 21 12 21C10.8954 21 10 20.1046 10 19H14Z",fill:"currentColor"}})])]),t.user.username?a("button",{staticClass:"member-avatar-wrapper",on:{click:t.toggleUserMenu}},[a("avatar",{staticClass:"member-name",attrs:{username:t.user.fullname,size:30,inline:!0,backgroundColor:"#dfe1e6",color:"#172b4d"}})],1):t._e()]),a("user-menu",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeUserMenu,expression:"closeUserMenu"}],staticClass:"hideUserMenu",class:t.userMenuShow,on:{closeUserMenu:t.closeUserMenu,logOut:t.logOut}}),t.user&&t.user._id&&t.showNotifications?a("notifications-list",{attrs:{boards:t.boards,mentions:t.user.mentions},on:{close:t.toggleNotifications,updateMentions:t.updateMentions}}):t._e()],1)}),c=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header-logo"},[s("div",[s("img",{attrs:{src:a("4ffd")}})]),s("span",[t._v("Trailing")])])}],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"boards-menu-container"},[a("div",{staticClass:"boards-menu-header"},[a("h3",[t._v("Boards")]),a("button",{staticClass:"icon-md icon-x",on:{click:t.boardsMenuClose}})]),a("hr"),a("div",{staticClass:"boards-input-container"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.filterBy,expression:"filterBy"}],staticClass:"boards-input-search",attrs:{type:"text",placeholder:"Find board by name..."},domProps:{value:t.filterBy},on:{input:[function(e){e.target.composing||(t.filterBy=e.target.value)},t.setFilter]}})]),a("div",{staticClass:"boards-menu-content"},[a("div",{staticClass:"boards-list-sm"},t._l(t.boardsForDisplay,(function(e){return a("board-preview",{key:e._id,attrs:{display:"small",board:e},on:{removeBoard:t.removeBoard},nativeOn:{click:function(a){return t.showBoard(e._id)}}})})),1),a("div",{staticClass:"board-btns-container"},[a("button",{staticClass:"btn-create-board",on:{click:t.toggleCreateBoard}},[t._v(" Create new board ")]),a("button",{staticClass:"btn-boards-page",on:{click:t.showBoards}},[t._v("Boards page")])])]),t.isCreateOpen?a("create-board",{staticClass:"hideCreateMenu",class:t.createShowMenu,on:{createBoard:t.createBoard,closeMenu:t.boardsMenuClose,menuBack:t.toggleCreateBoard}}):t._e()],1)},d=[],u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.board?a("div",{class:{"board-item-lg":"large"===t.display,"board-item":"small"===t.display},style:t.background},["backgroundImage"===t.board.style.type&&"small"===t.display?a("img",{staticClass:"board-item-img",attrs:{src:t.board.style.preview}}):"backgroundColor"===t.board.style.type&&"small"===t.display?a("div",{staticClass:"board-item-color-img",style:{backgroundColor:t.board.style.content}}):t._e(),a("div",{staticClass:"board-item-title-container"},[a("h4",{staticClass:"board-item-title"},[t._v(t._s(t.board.title))]),"small"===t.display?a("button",{staticClass:"icon-md btn-remove",on:{click:function(e){return e.stopPropagation(),t.removeBoard.apply(null,arguments)}}}):t._e()])]):t._e()},p=[],h={props:{board:Object,display:String},computed:{background:function(){return"backgroundImage"===this.board.style.type?"background-image: url('".concat(this.board.style.preview,"')"):"background-color: ".concat(this.board.style.content)},user:function(){return this.$store.getters.user}},methods:{removeBoard:function(){this.$emit("removeBoard",this.board._id);var t=this.$route.params.boardId;t===this.board._id&&this.$router.push("/boards")}}},m=h,g=a("2877"),b=Object(g["a"])(m,u,p,!1,null,null,null),f=b.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"create-board-container"},[a("div",{staticClass:"create-menu-header"},[a("button",{staticClass:"icon-md icon-back",on:{click:t.menuBack}}),a("h3",[t._v("Create board")]),a("button",{staticClass:"icon-md icon-x",on:{click:t.closeMenu}})]),a("hr"),a("div",{staticClass:"create-board-content"},[a("div",{staticClass:"create-board-title"},[a("h4",[t._v("Board title")]),a("div",{staticClass:"board-title-input-container"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.boardToSaveTitle,expression:"boardToSaveTitle"}],attrs:{type:"text",placeholder:"Title"},domProps:{value:t.boardToSaveTitle},on:{input:function(e){e.target.composing||(t.boardToSaveTitle=e.target.value)}}})])]),a("hr"),a("div",{staticClass:"create-board-bg"},[a("h4",[t._v("Choose background")]),a("div",{staticClass:"rand-photos-container"},t._l(t.photos,(function(e){return a("div",{key:e.id,staticClass:"rand-photos",on:{click:function(a){return t.saveBg("backgroundImage",e.urlBig,e.urlSmall)}}},[t.selectedBg&&t.selectedBg.content===e.urlBig?a("span",{staticClass:"icon-lg icon-v selected-bg"}):t._e(),a("img",{attrs:{src:e.urlSmall}})])})),0),a("div",{staticClass:"rand-colors-container"},t._l(t.colors,(function(e){return a("div",{key:e.id,staticClass:"rand-colors",style:{"background-color":e},on:{click:function(a){return t.saveBg("backgroundColor",e)}}},[t.selectedBg&&t.selectedBg.content===e?a("span",{staticClass:"icon-lg icon-v selected-bg"}):t._e()])})),0)]),a("div",{staticClass:"create-board-btn"},[a("button",{staticClass:"btn-create",class:{ready:t.isReady,disabled:!t.isReady},on:{click:t.createBoard}},[t._v(" Create board ")])])])])},C=[],y=(a("d81d"),a("c96a"),a("bc3a")),k=a.n(y),w={makeId:_};function _(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,e="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=0;s<t;s++)e+=a.charAt(Math.floor(Math.random()*a.length));return e}var x=a("2831"),T={data:function(){return{photos:[],colors:["#0079bf","#b04632","#519839","#89609e"],boardToSaveTitle:"",selectedBg:null}},computed:{loggedUser:function(){return this.$store.getters.loggedInUser},isReady:function(){return!(!this.selectedBg||!this.boardToSaveTitle)}},methods:{closeMenu:function(){this.$emit("closeMenu")},menuBack:function(){this.$emit("menuBack")},saveBg:function(t,e){var a=arguments,s=this;return Object(o["a"])(regeneratorRuntime.mark((function i(){var r,o,n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(r=a.length>2&&void 0!==a[2]?a[2]:"",s.selectedBg={type:t,content:e,preview:r},"backgroundImage"!==t){i.next=8;break}return o=new x["a"],i.next=6,o.getColorAsync(e);case 6:n=i.sent,s.$set(s.selectedBg,"props",n);case 8:case"end":return i.stop()}}),i)})))()},getRandomPhotos:function(){return Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="https://api.unsplash.com/photos/random/?client_id=3G3H2YrHWdLEk7zLzjy33Ykx0eACFpe497xZ1BWXAQg&count=4",t.next=3,k.a.get(e);case 3:return a=t.sent,s=a.data,i=s.map((function(t,e){return{idx:e,id:t.id,urlBig:t.urls.full,urlSmall:t.urls.small,props:{isDark:""}}})),t.abrupt("return",i);case 7:case"end":return t.stop()}}),t)})))()},createBoard:function(){if(this.isReady){var t={title:this.boardToSaveTitle,createdAt:Date.now(),createdBy:this.loggedUser,style:this.selectedBg,labels:[{id:"l101",title:"Done",color:"#61bd4f"},{id:"l102",title:"Almost",color:"#f2d600"},{id:"l103",title:"Nice",color:"#ff78cb"},{id:"l104",title:"Bad",color:"#eb5a46"}],members:[this.loggedUser],groups:[{id:w.makeId(),title:"Need to check",cards:[{id:w.makeId(),createdAt:Date.now(),title:"Card details component"},{id:w.makeId(),createdAt:Date.now(),title:"Login auth"}]},{id:w.makeId(),title:"In progress",cards:[{id:w.makeId(),createdAt:Date.now(),title:"Card cover"}]},{id:w.makeId(),title:"Done",cards:[]},{id:w.makeId(),title:"Need to refactor",cards:[]}],activities:[{id:w.makeId(),createdAt:Date.now(),byMember:this.loggedUser,txt:" created this board "}]};this.$emit("createBoard",t)}}},created:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getRandomPhotos();case 2:t.photos=e.sent;case 3:case"end":return e.stop()}}),e)})))()}},E=T,$=Object(g["a"])(E,v,C,!1,null,null,null),A=$.exports,L={props:{boards:Array},components:{boardPreview:f,createBoard:A},data:function(){return{isCreateOpen:!1,currBoardId:"",filterBy:""}},computed:{boardsForDisplay:function(){return this.$store.getters.boardsForDisplay},createShowMenu:function(){return{showCreateMenu:this.isCreateOpen}}},methods:{setFilter:function(){this.$store.commit({type:"setFilter",filterBy:this.filterBy})},removeBoard:function(t){this.$emit("removeBoard",t)},showBoard:function(t){this.$router.push("/board/".concat(t)),this.filterBy=""},boardsMenuClose:function(){this.$emit("closeBoardsMenu"),this.isCreateOpen=!1,this.filterBy=""},toggleCreateBoard:function(){this.isCreateOpen=!this.isCreateOpen},createBoard:function(t){this.boardsMenuClose(),this.$emit("createBoard",t)},showBoards:function(){this.$router.push("/boards"),this.boardsMenuClose()}},created:function(){this.currBoardId=this.$route.params.boardId},watch:{"$route.params.boardId":{immediate:!0,handler:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$route.params.boardId!==t.currBoardId&&t.boardsMenuClose();case 1:case"end":return e.stop()}}),e)})))()}}}},S=L,M=Object(g["a"])(S,l,d,!1,null,null,null),j=M.exports,B=a("4a89"),I=a.n(B),O=a("e67d"),D=a.n(O),P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"user-menu-container"},[a("div",{staticClass:"user-menu-header"},[a("h4",[t._v("Account")]),a("button",{staticClass:"icon-md icon-x",on:{click:t.closeUserMenu}})]),a("hr"),a("div",{staticClass:"user-menu-content"},[a("div",{staticClass:"user-menu-name"},[t.user.username?a("avatar",{staticClass:"member-name",attrs:{username:t.user.fullname,size:40,inline:!0,backgroundColor:"#dfe1e6",color:"#172b4d"}}):a("avatar",{staticClass:"member-name",attrs:{username:"Guest User",size:40,inline:!0,backgroundColor:"#dfe1e6",color:"#172b4d"}}),t.user.username?a("span",{staticClass:"user-menu-username"},[t._v(t._s(t.user.fullname))]):a("span",{staticClass:"user-menu-username"},[t._v("Guest user")])],1),a("hr"),a("div",{staticClass:"user-menu-actions"},["guest"===t.user.username?a("button",{staticClass:"user-logout",on:{click:t.login}},[t._v(" Login ")]):a("button",{staticClass:"user-logout",on:{click:t.logOut}},[t._v("Log out")])])])])},R=[],U={components:{avatar:I.a},computed:{user:function(){return this.$store.getters.loggedInUser}},methods:{login:function(){this.$router.push("/login")},logOut:function(){this.$emit("logOut"),this.closeUserMenu()},closeUserMenu:function(){this.$emit("closeUserMenu")}}},N=U,F=Object(g["a"])(N,P,R,!1,null,null,null),H=F.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"search-boards-container"},[a("div",{staticClass:"search-board-input-container"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.filterBy,expression:"filterBy"}],staticClass:"search-board-input",attrs:{type:"text",placeholder:"Start typing..."},domProps:{value:t.filterBy},on:{input:[function(e){e.target.composing||(t.filterBy=e.target.value)},t.setFilter]}})]),a("div",{staticClass:"search-header-container"},[t.boardsForDisplay?a("h1",{staticClass:"board-search-header"},[t._v(" Search results ")]):a("h1",{staticClass:"board-search-header"},[t._v("Start Typing...")])]),a("div",{staticClass:"boards-list-sm"},t._l(t.boardsForDisplay,(function(e){return a("board-preview",{key:e._id,attrs:{display:"small",board:e},nativeOn:{click:function(e){return e.stopPropagation(),t.closeSearch.apply(null,arguments)}}})})),1)])},z=[],G={props:{boardsForDisplay:Array},components:{boardPreview:f},data:function(){return{filterBy:""}},methods:{setFilter:function(){this.$store.commit({type:"setFilter",filterBy:this.filterBy})},closeSearch:function(){this.$emit("closeSearch")}}},V=G,q=Object(g["a"])(V,J,z,!1,null,null,null),W=q.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"notifications-list"},[a("span",{staticClass:"icon-sm icon-x",on:{click:t.close}}),a("header",[t._v("Notifications")]),a("div",{staticClass:"filter-options"},[t.filtered?a("span",{on:{click:t.toggleFilter}},[t._v("View all")]):a("span",{on:{click:t.toggleFilter}},[t._v("Filter by unread")]),a("span",{on:{click:t.readAll}},[t._v("Mark all as read")])]),t.mentions?a("div",{staticClass:"notifications-container"},[t._l(t.mentionsForDisplay,(function(e){return[e.cTitle?a("notification-preview",{key:e.createdAt,attrs:{mention:e,boards:t.boards},on:{toggleRead:function(a){return t.toggleRead(e.id)}}}):t._e()]}))],2):a("h3",[t._v("No unread notifications")])])},Y=[],Z=(a("4de4"),a("7db0"),a("c740"),a("159b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"notification-preview",class:{unread:t.unread}},[a("button",{staticClass:"read-btn",class:{unread:t.unread},on:{click:t.toggleRead}}),a("div",{staticClass:"notification-container"},[a("div",{staticClass:"notification-card",style:t.style},[a("div",{staticClass:"mention-card-preview"},[a("span",[t._v(t._s(t.mention.cTitle))]),t.mention.dueDate?a("span",{staticClass:"mention-due-date",style:t.isSoon},[a("span",{staticClass:"icon-sm icon-date"}),t._v(" "+t._s(t.mention.dueDate.slice(5))+" ")]):t._e()]),a("span",{staticClass:"board-group",class:{dark:!t.mention.isDark}},[a("span",[t._v(t._s(t.mention.bTitle))]),t._v(": "+t._s(t.mention.gTitle))])]),a("div",{staticClass:"notification-info"},[a("div",{staticClass:"mention-by-member"},[a("avatar",{attrs:{username:t.mention.byMember,size:24,backgroundColor:"#dfe1e6"}}),a("span",[t._v(t._s(t.mention.byMember))])],1),a("div",{staticClass:"mention-txt"},[t._m(0),a("span",[t._v(t._s(t.mention.txt)+" you")]),a("span",{staticClass:"mention-date"},[t._v(t._s(t._f("moment")(t.mention.createdAt,"calendar")))])])])])])}),K=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("span",{staticClass:"icon-sm icon-assign"})])}],X={props:{mention:Object,boards:Array},components:{avatar:I.a},computed:{isSoon:function(){var t=this,e=this.boards.find((function(e){return e._id===t.mention.bId})),a=e.groups.find((function(e){return e.id===t.mention.gId})),s=a.cards.find((function(e){return e.id===t.mention.cId}));if(s.isCompleted)return{backgroundColor:"#61BD4F",color:"white"};var i=Date.parse(new Date),r=Date.parse(s.dueDate),o=r-i;return o<0?{backgroundColor:"#ec9488",color:"white"}:o<864e5?{backgroundColor:"#F2D600",color:"#172B4D"}:{backgroundColor:"rgba(9, 30, 66, 0.08)",color:"#5e6c84"}},style:function(){return this.mention.style},unread:function(){return!this.mention.isRead}},methods:{toggleRead:function(){this.$emit("toggleRead")}}},tt=X,et=Object(g["a"])(tt,Z,K,!1,null,null,null),at=et.exports,st={props:{boards:Array,mentions:Array},data:function(){return{filtered:!1}},components:{notificationPreview:at},computed:{mentionsForDisplay:function(){var t,e=this;return t=this.filtered?this.mentions.filter((function(t){return!t.isRead})):this.mentions,t.map((function(t){var a=e.boards.find((function(e){return e._id===t.bId}));if(!a)return t;var s=a.groups.find((function(e){return e.id===t.gId}));if(!s)return t;var i=s.cards.find((function(e){return e.id===t.cId})),r="backgroundColor"===a.style.type?"background-color: ".concat(a.style.content):"background-image: url(".concat(a.style.preview,")");return a&&(t.bTitle=a.title),s&&(t.gTitle=s.title),i&&(t.cTitle=i.title),t.style=r,t.isDark=a.style.props.isDark,t}))}},methods:{close:function(){this.$emit("close")},toggleRead:function(t){var e=JSON.parse(JSON.stringify(this.mentions)),a=e.findIndex((function(e){return e.id===t}));e[a].isRead=!e[a].isRead,this.$emit("updateMentions",e)},toggleFilter:function(){this.filtered=!this.filtered},readAll:function(){var t=JSON.parse(JSON.stringify(this.mentions));t.forEach((function(t){return t.isRead=!0})),this.$emit("updateMentions",t)}}},it=st,rt=Object(g["a"])(it,Q,Y,!1,null,null,null),ot=rt.exports,nt=a("8055"),ct=a.n(nt),lt="",dt=ut();function ut(){var t=null,e={setup:function(){return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=ct()(lt);case 1:case"end":return e.stop()}}),e)})))()},on:function(e,a){t.on(e,a)},off:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t&&(a?t.off(e,a):t.removeAllListeners(e))},emit:function(e,a){t.emit(e,a)},terminate:function(){t=null}};return e}window.socketService=dt,dt.setup();var pt={components:{notificationsList:ot,boardsMenu:j,avatar:I.a,userMenu:H,searchBoards:W},props:{boards:Array,users:Array,user:Object},data:function(){return{isBoardsShow:!1,isUserMenu:!1,isSearchOpen:!1,showNotifications:!1,filterBy:""}},computed:{isNotified:function(){if(this.user&&this.user._id)return this.user.mentions&&this.user.mentions.some((function(t){return!t.isRead}))?"#EB5A46":"rgba(255, 255, 255, 0.3)"},boardsShowMenu:function(){return{showBoardsMenu:this.isBoardsShow}},userMenuShow:function(){return{showUserMenu:this.isUserMenu}},searchOpen:function(){return{headerSearchOpen:this.isSearchOpen}},boardsForDisplay:function(){return this.$store.getters.boardsForDisplay}},directives:{ClickOutside:D.a},methods:{toggleNotifications:function(){this.showNotifications=!this.showNotifications},removeBoard:function(t){this.$store.dispatch({type:"removeBoard",boardId:t})},setFilter:function(){this.$store.commit({type:"setFilter",filterBy:this.filterBy})},openSearch:function(){this.isSearchOpen=!0},closeSearch:function(){this.filterBy="",this.$store.commit({type:"setFilter",filterBy:""}),this.isSearchOpen=!1},login:function(){this.$router.push("/login")},closeBoardsMenu:function(){var t=this;this.isBoardsShow=!1,this.$nextTick((function(){return t.$refs.boardsmenu.isCreateOpen=!1}))},closeUserMenu:function(){this.isUserMenu=!1},toggleBoardsMenu:function(){this.isBoardsShow=!this.isBoardsShow},toggleUserMenu:function(){this.isUserMenu=!this.isUserMenu},createBoard:function(t){this.$emit("createBoard",t)},logOut:function(){this.$emit("logOut")},updateMentions:function(t){var e=JSON.parse(JSON.stringify(this.user));e.mentions=t,dt.emit("send user",e),this.$store.dispatch("updateUser",{userToUpdate:e})},updateMention:function(t){this.$store.commit({type:"updateMention",mention:t})}},mounted:function(){this.popupItem=this.$el},created:function(){dt.on("mention updated",this.updateMention)},destroyed:function(){dt.off("user updated")}},ht=pt,mt=Object(g["a"])(ht,n,c,!1,null,null,null),gt=mt.exports,bt={components:{appHeader:gt},created:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch({type:"loadBoards"});case 3:return e.next=5,t.$store.dispatch({type:"loadUsers"});case 5:t.user&&dt.emit("user-watch",t.user._id),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},computed:{boardStyle:function(){var t=this.$store.getters.boardStyle;if(t)return"backgroundImage"===t.type?"".concat(t.type,": url(").concat(t.content,")"):"".concat(t.type,": ").concat(t.content)},boards:function(){return this.$store.getters.boards},users:function(){return this.$store.getters.users},user:function(){return this.$store.getters.user},defaultBackground:function(){return this.boardStyle?"":"background-color: #026AA7"}},methods:{createBoard:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.$store.dispatch({type:"addBoard",board:t});case 3:s=a.sent,e.$store.commit({type:"getBoardById",boardId:t._id}),e.$router.push("/board/".concat(s._id)),a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](0),console.log("cant create board",a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))()},logOut:function(){this.$store.dispatch({type:"logout"}),this.$router.push("/")}}},ft=bt,vt=Object(g["a"])(ft,i,r,!1,null,null,null),Ct=vt.exports,yt=a("9483");Object(yt["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var kt=a("5c96"),wt=a.n(kt),_t=(a("0fae"),a("8c4f")),xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"board-details"},[t.bgOpen?a("section",{staticClass:"bg",on:{click:t.toggleBg}}):t._e(),t.board&&t.board.title?a("board-header",{attrs:{board:t.board},on:{bgColor:t.boardUpdate,updateBoard:t.boardUpdate,boardUpdate:t.boardUpdate,toggleDashboard:t.toggleDashboard}}):t._e(),t.board&&t.board.groups?a("group-list",{ref:"grouplist",attrs:{groups:t.board.groups,bgImage:t.board.style},on:{boardUpdate:t.boardUpdate,openBg:t.toggleBg,createLabel:t.createLabel,removeLabel:t.removeLabel,emitActivity:t.addActivity,updateMentions:t.updateMentions}}):t._e(),a("transition",{attrs:{name:"fade"}},[t.showDashboard&&t.board&&t.board.groups?a("board-dashboard",{attrs:{board:t.board},on:{toggleDashboard:t.toggleDashboard}}):t._e()],1)],1)},Tt=[],Et=(a("a434"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"board-header-container"},[a("div",{staticClass:"board-header-controls"},[a("div",{staticClass:"board-header-title"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.boardTitle,expression:"boardTitle"}],ref:"txt",staticClass:"title-input",style:{width:t.getWidth},domProps:{value:t.boardTitle},on:{change:function(e){return t.saveTitle()},input:[function(e){e.target.composing||(t.boardTitle=e.target.value)},function(e){return t.getTextWidth()}],click:t.selectTxt}})]),a("span",{staticClass:"board-header-divider"},[t._v("|")]),a("transition",{attrs:{name:"fade"}},[t.mobileRemove?a("div",{staticClass:"board-members-mobile-container"},t._l(t.board.members,(function(e){return a("span",{key:e._id,staticClass:"members-list-mobile"},[a("span",{staticClass:"member-name-avatar-mobile"},[a("avatar",{staticClass:"member-name",style:{"margin-left":"-3px"},attrs:{title:e.fullname,username:e.fullname,size:28,inline:!0}}),a("span",{staticClass:"member-fullname-mobile"},[t._v(t._s(e.fullname))])],1),t.board.createdBy._id!==e._id?a("span",{staticClass:"remove-member-mobile icon-sm",on:{click:function(a){return t.removeMember(e._id)}}}):t._e()])})),0):t._e()]),a("div",{staticClass:"board-header-members"},[t._l(t.board.members,(function(e){return a("span",{key:e._id,staticClass:"members-list"},[a("avatar",{staticClass:"member-name",style:{"margin-left":"-3px"},attrs:{title:e.fullname,username:e.fullname,size:28,inline:!0}}),t.board.createdBy._id!==e._id?a("span",{staticClass:"remove-member",on:{click:function(a){return t.removeMember(e._id)}}},[t._v("X")]):t._e(),t.board.createdBy._id===e._id?a("img",{staticClass:"member-admin",attrs:{title:"This member is the creator of this board",src:"https://a.trellocdn.com/prgb/dist/images/chevron.88a4454280d68a816b89.png"}}):t._e()],1)})),a("span",{staticClass:"icon-md icon-remove-members",attrs:{title:"Remove members from board"},on:{click:t.toggleRemoveMembersMobile}}),a("span",{staticClass:"icon-md icon-members btn-invite",attrs:{title:"Invite members"},on:{click:t.toggleInvite}}),a("button",{staticClass:"btn-invite",on:{click:t.toggleInvite}},[t._v("Invite")]),a("transition",{attrs:{name:"slide-fade"}},[t.isInviteShow?a("users",{attrs:{users:t.users,board:t.board,onlyBoard:!1},on:{addUser:t.addUser,closeInvite:t.toggleInvite}}):t._e()],1)],2),a("span",{staticClass:"board-header-divider"},[t._v("|")]),a("span",{staticClass:"icon-md icon-dashboard",attrs:{title:"Dashboard"},on:{click:t.toggleDashboard}}),a("button",{staticClass:"btn-dashboard",on:{click:t.toggleDashboard}},[t._v("Dashboard")])],1),a("span",{staticClass:"icon-md icon-mobile-menu",attrs:{title:"Show menu"},on:{click:t.toggleMenu}}),a("button",{staticClass:"btn-show-menu",on:{click:t.toggleMenu}},[a("span",{staticClass:"icon-sm icon-dots-menu"}),a("span",{staticClass:"menu-show-txt"},[t._v("Show menu")])]),a("side-menu",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeMenu,expression:"closeMenu"}],ref:"sideMenu",staticClass:"hideMenu",class:t.menuShow,attrs:{board:t.board},on:{bgColor:t.bgColor,chooseBg:t.chooseBg,closeMenu:t.toggleMenu}})],1)}),$t=[],At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"side-menu-container"},[a("div",{staticClass:"side-menu-header"},[a("h3",[t._v("Menu")]),a("button",{staticClass:"icon-md icon-x",on:{click:t.closeMenu}})]),a("hr"),a("div",{staticClass:"side-menu-content"},[t.board.style?a("div",{staticClass:"side-menu-item",on:{click:t.toggleBgMenu}},["backgroundImage"===t.board.style.type?a("img",{staticClass:"side-bar-bgc-img",attrs:{src:t.board.style.content}}):a("span",{staticClass:"side-bar-bgc-img",style:{"background-color":t.board.style.content}}),a("button",{staticClass:"btn-menu-change-background"},[t._v(" Change background ")])]):t._e(),t.board.style?a("div",{staticClass:"side-menu-item"},[a("span",{staticClass:"icon-sm icon-activity"}),a("span",{staticClass:"menu-activity"},[t._v(" Activity ")])]):t._e(),t.board.activities?a("div",{staticClass:"menu-activity-list"},t._l(t.board.activities,(function(t){return a("activity-preview",{key:t.id,staticClass:"activity-list",attrs:{render:"menu",activity:t}})})),1):t._e()]),a("background-menu",{ref:"bgMenu",staticClass:"hideBgMenu",class:t.bgShowMenu,on:{bgColor:t.bgColor,chooseBg:t.chooseBg,closeMenu:t.closeMenu,menuBack:t.toggleBgMenu}})],1)},Lt=[],St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"activity-preview"},[a("div",{staticClass:"inner-container"},[a("avatar",{attrs:{username:t.activity.byMember.fullname,inline:"",size:32}}),a("div",{staticClass:"activity-info"},[a("div",[a("span",[t._v(t._s(t.activity.byMember.fullname))]),t._v(" "+t._s(t.activity.txt)+" "),"menu"===t.render&&t.activity.isSpecific?a("span",[t._v('on card "'+t._s(t.activity.cTitle)+'"')]):t._e(),"card"===t.render?a("span",[t._v("on this card")]):t._e()]),a("p",[t._v(t._s(t._f("moment")(t.activity.createdAt,"calendar")))])])],1)])},Mt=[],jt={props:{activity:Object,render:String},components:{avatar:I.a}},Bt=jt,It=Object(g["a"])(Bt,St,Mt,!1,null,null,null),Ot=It.exports,Dt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"background-menu-container"},[s("div",{staticClass:"background-menu-header"},[s("button",{staticClass:"icon-md icon-back",on:{click:t.menuBack}}),s("h3",[t._v("Change background")]),s("button",{staticClass:"icon-md icon-x",on:{click:t.closeMenu}})]),s("hr"),s("div",{staticClass:"background-menu-content"},[s("div",{staticClass:"background-menu-select"},[s("div",{staticClass:"background-menu-option-bg",on:{click:t.togglePhotosMenu}},[s("img",{staticClass:"background-menu-img",attrs:{src:a("5e88"),alt:""}}),s("span",{staticClass:"background-selection-txt"},[t._v("Photos")])]),s("div",{staticClass:"background-menu-option-color",on:{click:t.toggleColorsMenu}},[s("img",{staticClass:"background-menu-img",attrs:{src:a("8cdd"),alt:""}}),s("span",{staticClass:"background-selection-txt"},[t._v("Colors")])])])]),s("background-photos",{staticClass:"hideImgMenu",class:t.photosShowMenu,on:{updateBoard:t.chooseBg,closeMenu:t.closeMenu,photosBack:t.togglePhotosMenu}}),s("background-colors",{staticClass:"hideColorMenu",class:t.colorShowMenu,on:{bgColor:t.bgColor,closeMenu:t.closeMenu,colorsBack:t.toggleColorsMenu}})],1)},Pt=[],Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"background-photos-container"},[a("div",{staticClass:"background-photos-header"},[a("button",{staticClass:"icon-md icon-back",on:{click:t.photosBack}}),a("h3",[t._v("Photos by Unsplash")]),a("button",{staticClass:"icon-md icon-x",on:{click:t.closeMenu}})]),a("hr"),a("div",{staticClass:"background-photos-content"},[a("div",{staticClass:"photos-input-container"},[a("span",{staticClass:"icon-sm icon-search"}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.photoSearch,expression:"photoSearch"}],staticClass:"photos-input-search",attrs:{type:"text",placeholder:"Photos"},domProps:{value:t.photoSearch},on:{input:[function(e){e.target.composing||(t.photoSearch=e.target.value)},t.debounceFunc]}})]),t.isLoading&&-1!==t.chosenPhotoIdx||!t.isLoading&&-1===t.chosenPhotoIdx?a("div",{staticClass:"background-photos"},t._l(t.photos,(function(e,s){return a("div",{key:e.id,staticClass:"photo-example",on:{click:function(a){return t.chooseBg(e.urlBig,e.urlSmall,s)}}},[a("img",{attrs:{src:e.urlSmall}}),t.isLoading&&t.chosenPhotoIdx===s?[t._m(0,!0)]:t._e()],2)})),0):t._e(),t.isLoading&&-1===t.chosenPhotoIdx?a("div",{staticClass:"logo-loading active"}):t._e()])])},Ut=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"uploading"},[s("img",{staticClass:"spinner small",attrs:{src:a("5e4c")}}),s("span",[t._v("Uploading…")])])}],Nt={loadPhotos:Ft};function Ft(t){return Ht.apply(this,arguments)}function Ht(){return Ht=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="https://api.unsplash.com/search/photos?query=".concat(e,"&per_page=20&client_id=3G3H2YrHWdLEk7zLzjy33Ykx0eACFpe497xZ1BWXAQg"),t.next=3,k.a.get(a);case 3:return s=t.sent,i=s.data.results,i=i.map((function(t,e){return{idx:e,id:t.id,urlBig:t.urls.full,urlSmall:t.urls.small}})),t.abrupt("return",i);case 7:case"end":return t.stop()}}),t)}))),Ht.apply(this,arguments)}var Jt,zt,Gt,Vt,qt,Wt,Qt,Yt,Zt={data:function(){return{photoSearch:"",photos:[],debounceFunc:null,isLoading:!1,chosenPhotoIdx:-1}},methods:{closeMenu:function(){this.$emit("closeMenu")},photosBack:function(){this.$emit("photosBack")},debounce:function(t){var e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return function(){for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];var o=function(){clearTimeout(e),t.apply(void 0,i)};clearTimeout(e),e=setTimeout(o,a)}},loadPhotos:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.next=3,Nt.loadPhotos(t.photoSearch);case 3:t.photos=e.sent,t.isLoading=!1;case 5:case"end":return e.stop()}}),e)})))()},getRandomPhotos:function(){return Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="https://api.unsplash.com/photos/random/?client_id=3G3H2YrHWdLEk7zLzjy33Ykx0eACFpe497xZ1BWXAQg&count=20",t.next=3,k.a.get(e);case 3:return a=t.sent,s=a.data,i=s.map((function(t,e){return{idx:e,id:t.id,urlBig:t.urls.full,urlSmall:t.urls.small}})),t.abrupt("return",i);case 7:case"end":return t.stop()}}),t)})))()},chooseBg:function(t,e,a){var s=this;return Object(o["a"])(regeneratorRuntime.mark((function i(){var r,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return s.chosenPhotoIdx=a,s.isLoading=!0,r=new x["a"],i.next=5,r.getColorAsync(t);case 5:o=i.sent,s.$emit("updateBoard",{type:"style",payload:{type:"backgroundImage",content:t,preview:e,props:o}}),s.isLoading=!1,s.chosenPhotoIdx=-1;case 9:case"end":return i.stop()}}),i)})))()}},created:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.debounceFunc=t.debounce(t.loadPhotos),e.next=3,t.getRandomPhotos();case 3:t.photos=e.sent;case 4:case"end":return e.stop()}}),e)})))()}},Kt=Zt,Xt=Object(g["a"])(Kt,Rt,Ut,!1,null,null,null),te=Xt.exports,ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"background-colors-container"},[a("div",{staticClass:"background-colors-header"},[a("button",{staticClass:"icon-md icon-back",on:{click:t.colorsBack}}),a("h3",[t._v("Colors")]),a("button",{staticClass:"icon-md icon-x",on:{click:t.closeMenu}})]),a("hr"),a("div",{staticClass:"background-colors-content"},t._l(t.colors,(function(e){return a("div",{key:e.id,staticClass:"color-picks",style:{"background-color":e},on:{click:function(a){return t.bgColor(e)}}})})),0)])},ae=[],se={data:function(){return{colors:["#0079bf","#d29034","#519839","#b04632","#89609e","#cd5a91","#4bbf6b","#00aecc","#838c91"]}},methods:{closeMenu:function(){this.$emit("closeMenu")},colorsBack:function(){this.$emit("colorsBack")},bgColor:function(t){this.$emit("bgColor",{type:"style",payload:{type:"backgroundColor",content:t}})}}},ie=se,re=Object(g["a"])(ie,ee,ae,!1,null,null,null),oe=re.exports,ne={components:{backgroundPhotos:te,backgroundColors:oe},data:function(){return{isPhotosShow:!1,isColorsShow:!1}},computed:{photosShowMenu:function(){return{showImgMenu:this.isPhotosShow}},colorShowMenu:function(){return{showColorMenu:this.isColorsShow}}},methods:{bgColor:function(t){this.$emit("bgColor",t)},chooseBg:function(t){this.$emit("chooseBg",t)},closeMenu:function(){this.$emit("closeMenu"),this.isPhotosShow=!1,this.isColorsShow=!1},menuBack:function(){this.$emit("menuBack")},togglePhotosMenu:function(){this.isPhotosShow=!this.isPhotosShow},toggleColorsMenu:function(){this.isColorsShow=!this.isColorsShow}}},ce=ne,le=Object(g["a"])(ce,Dt,Pt,!1,null,null,null),de=le.exports,ue={components:{backgroundMenu:de,activityPreview:Ot},props:{board:Object},data:function(){return{isBgShow:!1}},computed:{bgShowMenu:function(){return{showBgMenu:this.isBgShow}}},methods:{bgColor:function(t){this.$emit("bgColor",t)},chooseBg:function(t){this.$emit("chooseBg",t)},closeMenu:function(){this.$emit("closeMenu"),this.isBgShow=!1,this.isColorShow=!1},toggleBgMenu:function(){this.isBgShow=!this.isBgShow}}},pe=ue,he=Object(g["a"])(pe,At,Lt,!1,null,null,null),me=he.exports,ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"members-list-container"},[a("header",[t._v("Members")]),a("span",{staticClass:"icon-sm icon-x",on:{click:t.closeInvite}}),a("hr"),a("div",{staticClass:"users-details"},[t.onlyBoard?a("h4",{staticClass:"members-list-header"},[t._v("Board Members")]):a("h4",{staticClass:"members-list-header"},[t._v("Invite Members")]),t._l(t.usersToShow,(function(e){return a("single-user",{key:e._id,attrs:{user:e},on:{addUser:t.addUser}})}))],2)])},be=[],fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"single-member-container",on:{click:function(e){return t.addUser(t.user._id)}}},[a("avatar",{style:{backgroundColor:"#dfe1e6",color:"#172b4d",fontSize:"15px"},attrs:{username:t.user.fullname,size:32,inline:!0}}),a("span",{staticClass:"user-txt"},[t._v(t._s(t.user.fullname)+" ")]),t.user.username?a("span",{staticClass:"user-txt"},[t._v(" ("+t._s(t.user.username)+")")]):t._e()],1)},ve=[],Ce={components:{avatar:I.a},props:{user:Object},methods:{addUser:function(t){this.$emit("addUser",t)}}},ye=Ce,ke=Object(g["a"])(ye,fe,ve,!1,null,null,null),we=ke.exports,_e={components:{singleUser:we},props:{board:Object,card:Object,onlyBoard:Boolean},data:function(){return{users:[]}},computed:{usersToShow:function(){var t=this;return this.onlyBoard?this.card.members?this.board.members.filter((function(e){if(!t.card.members.some((function(t){return t._id===e._id})))return e})):this.board.members:this.users.filter((function(e){if(!t.board.members.some((function(t){return t._id===e._id})))return e}))}},methods:{addUser:function(t){this.$emit("addUser",t)},closeInvite:function(){this.$emit("closeInvite")},toggleMember:function(){this.$emit("toggleMember")}},created:function(){this.users=this.$store.getters.users}},xe=_e,Te=Object(g["a"])(xe,ge,be,!1,null,null,null),Ee=Te.exports,$e={components:{sideMenu:me,avatar:I.a,users:Ee},props:{board:Object},data:function(){return{isMenuShow:!1,boardTitle:null,boardMembers:null,isInviteShow:!1,txtWidth:null,mobileRemove:!1}},directives:{ClickOutside:D.a},computed:{getWidth:function(){return this.getTextWidth()},menuShow:function(){return{showMenu:this.isMenuShow}},users:function(){return this.$store.getters.users}},methods:{toggleRemoveMembersMobile:function(){this.mobileRemove=!this.mobileRemove},selectTxt:function(){this.$refs.txt.select()},getTextWidth:function(){var t=document.createElement("span");document.body.appendChild(t),t.style.font="Segoe UI",t.style.fontSize="18px",t.style.height="auto",t.style.width="auto",t.style.position="absolute",t.style.whiteSpace="no-wrap",t.innerHTML=this.boardTitle;var e=Math.ceil(t.clientWidth),a=e+40+"px";return document.body.removeChild(t),a},bgColor:function(t){this.$emit("bgColor",t),dt.emit("send style",t)},chooseBg:function(t){this.$emit("updateBoard",t),dt.emit("send style",t)},toggleMenu:function(){this.isMenuShow=!this.isMenuShow},closeMenu:function(){this.isMenuShow=!1,this.$refs.sideMenu.isBgShow=!1,this.$refs.sideMenu.$refs.bgMenu.isColorsShow=!1,this.$refs.sideMenu.$refs.bgMenu.isPhotosShow=!1},toggleInvite:function(){this.isInviteShow=!this.isInviteShow},saveTitle:function(){this.boardTitle||(this.boardTitle=this.board.title);var t=JSON.parse(JSON.stringify(this.boardTitle));this.$emit("boardUpdate",{type:"title",payload:t}),dt.emit("send title",t)},toggleDashboard:function(){this.$emit("toggleDashboard")},removeMember:function(t){var e=this.boardMembers.findIndex((function(e){return e._id===t}));this.boardMembers.splice(e,1),this.saveMembers()},saveMembers:function(){var t=JSON.parse(JSON.stringify(this.boardMembers));this.$emit("boardUpdate",{type:"members",payload:t}),dt.emit("send members",t)},addUser:function(t){var e=this.users.find((function(e){return e._id===t}));this.boardMembers.push(e),this.saveMembers()}},watch:{board:{immediate:!0,handler:function(){this.boardTitle=JSON.parse(JSON.stringify(this.board.title)),this.boardMembers=JSON.parse(JSON.stringify(this.board.members))},deep:!0}},mounted:function(){this.popupItem=this.$el},created:function(){this.boardTitle=JSON.parse(JSON.stringify(this.board.title)),this.boardMembers=JSON.parse(JSON.stringify(this.board.members)),this.getTextWidth()}},Ae=$e,Le=Object(g["a"])(Ae,Et,$t,!1,null,null,null),Se=Le.exports,Me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.groupsToEdit?a("section",{ref:"grouplistwrapper",staticClass:"group-list-wrapper",on:{mousedown:t.setPageScroll,mouseup:t.unsetPageScroll,mousemove:t.dragList}},[a("draggable",{ref:"grouplist",staticClass:"group-list",attrs:{handle:".group-wrapper",animation:"100",delay:"500","delay-on-touch-only":"true",dragClass:"drag",ghostClass:"ghost-group",chosenClass:"chosen",setData:t.startDragGroup},on:{start:function(e){t.isScrolling=!1,t.drag=!0},end:function(e){t.drag=!1,t.saveGroups(),t.endDrag()}},model:{value:t.groupsToEdit,callback:function(e){t.groupsToEdit=e},expression:"groupsToEdit"}},[t._l(t.groupsToEdit,(function(e,s){return a("div",{key:e.id,staticClass:"group-wrapper"},[a("div",{staticClass:"group"},[a("div",{staticClass:"group-details"},[a("div",{staticClass:"group-header"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"group.title"}],ref:"grouptitle",refInFor:!0,staticClass:"group-header-name mod-group-name",attrs:{"aria-label":e.title,spellcheck:"false",dir:"auto",maxlength:"300"},domProps:{value:e.title},on:{change:t.saveGroups,input:[function(a){a.target.composing||t.$set(e,"title",a.target.value)},t.textHeight]}}),a("div",{staticClass:"group-header-extras",on:{click:function(e){return e.stopPropagation(),t.toggleExtras(s)}}},[a("span",{staticClass:"icon-sm icon-dots-menu"}),t.isExtrasShowing&&t.currGroupIdx===s?a("div",{staticClass:"popup"},[a("div",{staticClass:"header",on:{click:function(t){t.stopPropagation()}}},[a("div",{staticClass:"header-title",on:{click:function(t){t.stopPropagation()}}},[t._v("List actions")]),a("span",{staticClass:"header-close icon-sm icon-x",on:{click:function(e){return e.target!==e.currentTarget?null:(e.stopPropagation(),t.toggleExtras(s))}}})]),a("div",{staticClass:"popup-content"},[a("div",{staticClass:"item"},[a("a",{on:{click:function(e){return e.target!==e.currentTarget?null:(e.stopPropagation(),t.deleteGroup(s))}}},[t._v("Delete this list")])])])]):t._e()])]),a("section",{ref:"card-preview-wrapper-"+s,refInFor:!0,staticClass:"card-preview-wrapper"},[a("draggable",{attrs:{group:"cards",animation:"250",dragClass:"drag",ghostClass:"ghost-card",chosenClass:"chosen",delay:"500","delay-on-touch-only":"true",setData:t.startDragCard},on:{change:t.saveGroups,end:t.endDrag},model:{value:e.cards,callback:function(a){t.$set(e,"cards",a)},expression:"group.cards"}},t._l(e.cards,(function(i,r){return a("card-preview",{key:i.id,ref:"cardpreview-"+s+"-"+r,refInFor:!0,attrs:{card:i,group:e},on:{openCard:function(e){return t.openCard(i,s,r)},openBg:t.openBg,updateCard:function(e){return t.updateCard(e,s)},removeCard:function(e){return t.removeCard(e,s)},createLabel:t.createLabel,removeLabel:t.removeLabel,updateMentions:t.updateMentions},nativeOn:{click:function(e){return t.setCard(i,s,r)}}})})),1)],1)]),t.isAddingCard&&t.currGroupIdx===s?a("div",{staticClass:"add-card card-preview"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.cardToEdit.title,expression:"cardToEdit.title"}],ref:"content-"+s,refInFor:!0,attrs:{placeholder:"Enter a title for this card...",dir:"auto"},domProps:{value:t.cardToEdit.title},on:{blur:function(e){return t.toggleCardEdit(s)},input:function(e){e.target.composing||t.$set(t.cardToEdit,"title",e.target.value)}}})]):t._e(),a("section",{ref:"addcard",refInFor:!0,staticClass:"add-card-container"},[t.isAddingCard&&t.currGroupIdx===s?a("div",{staticClass:"card-composer-container"},[a("div",{staticClass:"add-card-controls"},[a("button",{staticClass:"btn-add-card",on:{click:function(e){return e.stopPropagation(),t.saveCard(s)}}},[t._v(" Add card ")]),a("a",{staticClass:"icon-lg icon-close",on:{click:function(e){return e.stopPropagation(),t.closeCardEdit(s)}}})])]):a("div",{staticClass:"card-composer-container"},[a("a",{staticClass:"open-card-composer",on:{click:function(e){return e.stopPropagation(),t.toggleCardEdit(s)}}},[a("span",{staticClass:"icon-sm icon-add"}),a("span",{staticClass:"add-card"},[t._v("Add a card")])]),a("button",{staticClass:"video-button",attrs:{type:"button"},on:{click:function(e){return t.toggleVideoRecord(s)}}},[a("span",{staticClass:"video-icon"},[a("span",{staticClass:"icon-md icon-video",attrs:{role:"img","aria-label":"VideoIcon"}})])]),a("button",{staticClass:"video-button",attrs:{type:"button"},on:{click:function(e){return t.toggleAudioRecord(s)}}},[a("span",{staticClass:"video-icon"},[a("span",{staticClass:"icon-md icon-audio",attrs:{role:"img","aria-label":"AudioIcon"}})])])])])])])})),a("div",{ref:"addgroup",staticClass:"group-wrapper mod-add",class:{"is-edit":t.isAddingGroup,"is-dark":t.bgImage.props.isDark}},[t.isAddingGroup?a("form",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.toggleGroupEdit,expression:"toggleGroupEdit"}]},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.groupToEdit.title,expression:"groupToEdit.title"}],ref:"newgroupcontent",staticClass:"group-name-input",attrs:{type:"text",name:"name",placeholder:"Enter list title…",autocomplete:"off",dir:"auto"},domProps:{value:t.groupToEdit.title},on:{input:function(e){e.target.composing||t.$set(t.groupToEdit,"title",e.target.value)}}}),a("div",{staticClass:"group-add-controls"},[a("input",{staticClass:"btn-add-group",attrs:{type:"button",value:"Add list"},on:{click:function(e){return e.stopPropagation(),t.toggleGroupEdit.apply(null,arguments)}}}),a("a",{staticClass:"icon-lg icon-close",attrs:{"aria-label":"Cancel list editing"},on:{click:function(e){return e.stopPropagation(),t.closeGroupEdit.apply(null,arguments)}}})])]):t._e(),t.isAddingGroup?t._e():a("a",{staticClass:"open-add-list",on:{click:function(e){return e.stopPropagation(),t.toggleGroupEdit.apply(null,arguments)}}},[a("span",{staticClass:"icon-sm icon-add",style:{"is-dark":t.bgImage.props.isDark}}),t._v("Add another list ")])])],2),a("transition",{attrs:{name:"fade"}},[t.currCard?a("card-details",{attrs:{card:t.currCard,group:t.groupsToEdit[t.currGroupIdx]},on:{createLabel:t.createLabel,removeLabel:t.removeLabel,clearCard:t.clearCard,updateCard:function(e){return t.updateCard(e,t.currGroupIdx)},removeCard:function(e){return t.removeCard(e,t.currGroupIdx)},updateMentions:t.updateMentions}}):t._e()],1),t.isRecordingVideo?a("section",{staticClass:"card-details-bg",on:{click:function(e){return e.target!==e.currentTarget?null:t.toggleVideoRecord.apply(null,arguments)}}},[t.isRecordingVideo?a("video-record",{on:{videoRecord:t.addVideoCard,toggleVideoRecord:t.toggleVideoRecord}}):t._e()],1):t._e(),t.isRecordingAudio?a("section",{staticClass:"card-details-bg",on:{click:function(e){return e.target!==e.currentTarget?null:t.toggleAudioRecord.apply(null,arguments)}}},[t.isRecordingAudio?a(t.audioRecord,{tag:"component",on:{toggleAudioRecord:t.toggleAudioRecord,audioRecord:t.addAudioCard}}):t._e()],1):t._e()],1):t._e()},je=[],Be=a("5530"),Ie=(a("d3b7"),a("3ca3"),a("ddb0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"card-details-bg",on:{click:t.exitCard}},[a("section",{staticClass:"border-container"},[a("section",{staticClass:"card-details",on:{click:function(t){t.stopPropagation()}}},[t.cardToEdit.cover&&t.cardToEdit.cover.isCover&&"attachment"===t.cardToEdit.cover.type&&"video"===t.cardToEdit.attachments[t.cardToEdit.cover.attachmentIdx].props.type?a("div",{staticClass:"card-cover",style:t.background},[a("video",{attrs:{poster:t.cardToEdit.attachments[t.cardToEdit.cover.attachmentIdx].props.thumbnail,muted:"",controls:"",height:"160px"},domProps:{muted:!0}},[a("source",{attrs:{src:t.cardToEdit.attachments[t.cardToEdit.cover.attachmentIdx].props.url,type:"video/mp4"}})])]):t.cardToEdit.cover&&t.cardToEdit.cover.isCover?a("div",{staticClass:"card-cover",style:t.background}):t._e(),a("button",{staticClass:"close-btn",class:{dark:t.cardToEdit.cover&&!t.cardToEdit.cover.isCover.length},on:{click:t.exitCard}},[a("span",{staticClass:"icon-md icon-x"})]),a("div",{staticClass:"card-details-header"},[a("div",{staticClass:"inner-container"},[a("span",{staticClass:"icon-lg icon-card details-header-icon"}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.cardToEdit.title,expression:"cardToEdit.title"}],staticClass:"card-details-title",attrs:{type:"text"},domProps:{value:t.cardToEdit.title},on:{change:t.updateTitle,input:function(e){e.target.composing||t.$set(t.cardToEdit,"title",e.target.value)}}})]),a("div",{staticClass:"card-details-list"},[t._v("From list "+t._s(t.group.title))])]),a("div",{staticClass:"card-details-content"},[a("div",{staticClass:"card-details-main"},[a("div",{staticClass:"labels-members-container"},[a("transition",{attrs:{name:"fade"}},[t.cardToEdit.labelIds&&t.cardToEdit.labelIds.length?a("labels-cmp",{attrs:{labels:t.labelsForDisplay,card:t.card,optionsLabels:t.board.labels,cardLabels:t.card.labelIds},on:{createLabel:function(e){return t.createLabel(e,!1)},removeLabel:function(e){return t.removeLabel(e,!1)},updateLabels:t.updateLabels,closePopups:t.closePopups}}):t._e()],1),a("transition",{attrs:{name:"fade"}},[t.cardToEdit.members?a("members-cmp",{attrs:{members:t.cardToEdit.members},on:{updateMembers:t.updateMembers}}):t._e()],1),a("transition",{attrs:{name:"fade"}},[t.cardToEdit.dueDate?a("date-cmp",{attrs:{isCompleted:t.card.isCompleted,date:t.cardToEdit.dueDate},on:{toggleCompleted:t.toggleCompleted}}):t._e()],1)],1),a("description-cmp",{attrs:{description:t.cardToEdit.description},on:{updateDesc:t.updateDesc}}),a("transition",{attrs:{name:"fade"}},[t.cardToEdit.attachments&&t.cardToEdit.attachments.length?a("attachment-cmp",{attrs:{attachments:t.cardToEdit.attachments},on:{updateAttachments:t.updateAttachments}}):t._e()],1),a("transition",{attrs:{name:"fade"}},[t.cardToEdit.checklists?a("checklists-cmp",{attrs:{checklists:t.cardToEdit.checklists},on:{updateChecklists:t.updateCL}}):t._e()],1),t.filteredActivities?a("activity-cmp",{attrs:{activities:t.filteredActivities}}):t._e()],1),a("div",{staticClass:"card-details-sidebar"},[t.userInCard||"guest"===t.loggedUser.username?t._e():a("div",{staticClass:"sidebar-inner-container"},[a("h3",[t._v("Suggested")]),a("div",{staticClass:"sidebar-btns-container"},[a("div",{staticClass:"card-sidebar-btn",on:{click:t.joinToCard}},[a("span",{staticClass:"icon-sm icon-member"}),a("p",{staticClass:"sidebar-btn-title"},[t._v("Join")])])])]),a("div",{staticClass:"sidebar-inner-container"},[a("h3",[t._v("Add To Card")]),a("div",{staticClass:"sidebar-btns-container"},[a("div",{staticClass:"card-sidebar-btn",on:{click:t.toggleMember}},[a("span",{staticClass:"icon-sm icon-member"}),a("p",{staticClass:"sidebar-btn-title"},[t._v("Members")]),t.isAddingMember?a("members-list",{ref:"membermodal",attrs:{boardMembers:t.board.members,cardMembers:t.card.members},on:{close:t.closePopups,updateMembers:t.updateMembers,updateMentions:t.updateMentions}}):t._e()],1),a("div",{staticClass:"card-sidebar-btn",on:{click:t.toggleLabel}},[a("span",{staticClass:"icon-sm icon-label"}),a("p",{staticClass:"sidebar-btn-title"},[t._v("Labels")]),t.isAddingLabel?a("labels-list",{ref:"labelmodal",attrs:{optionsLabels:t.board.labels,cardLabels:t.card.labelIds},on:{toggleCreateLabel:t.toggleCreateLabel,updateLabels:t.updateLabels,editLabel:t.setLabelToEdit,closePopups:t.closePopups}}):t._e(),t.isCreateLabel?a("create-labels",{attrs:{label:t.labelToEdit},on:{close:t.closePopups,createLabel:function(e){return t.createLabel(e,!0)},removeLabel:function(e){return t.removeLabel(e,!0)},back:t.toggleCreateLabel}}):t._e()],1),a("div",{staticClass:"card-sidebar-btn",on:{click:t.toggleCl}},[a("span",{staticClass:"icon-sm icon-checklist"}),a("p",{staticClass:"sidebar-btn-title"},[t._v("Checklist")]),t.isAddingChecklist?a("checklist-add",{ref:"checklistmodal",on:{addCl:t.addCl,closePopups:t.closePopups}}):t._e()],1),a("el-date-picker",{attrs:{placeholder:"Dates",type:"date",format:"yyyy/MM/dd","value-format":"yyyy-MM-dd"},on:{change:t.updateDate},model:{value:t.cardDate,callback:function(e){t.cardDate=e},expression:"cardDate"}},[a("span",{staticClass:"icon-sm icon-date"})]),a("div",{staticClass:"card-sidebar-btn",on:{click:t.toggleAttch}},[a("span",{staticClass:"icon-sm icon-attach"}),a("p",{staticClass:"sidebar-btn-title"},[t._v("Attachments")]),t.isAddingAttachment?a("file-upload",{ref:"attachmentmodal",attrs:{attachments:t.cardToEdit.attachments},on:{close:t.closePopups,updateAttachments:t.updateAttachments}}):t._e()],1),a("div",{staticClass:"card-sidebar-btn cover",on:{click:t.toggleCover}},[a("span",{staticClass:"icon-sm icon-cover"}),a("p",{staticClass:"sidebar-btn-title"},[t._v("Cover")])]),t.isAddingCover?a("cover-cmp",{ref:"covermodal",attrs:{card:t.cardToEdit},on:{close:t.closePopups,updateCard:t.updateCard,toggleAttch:t.toggleAttch}}):t._e()],1)]),a("div",{staticClass:"sidebar-inner-container"},[a("h3",[t._v("Delete Card")]),a("div",{staticClass:"sidebar-btns-container"},[a("div",{staticClass:"card-sidebar-btn delete",on:{click:t.removeCard}},[a("span",{staticClass:"icon-sm icon-minus"}),a("p",{staticClass:"sidebar-btn-title"},[t._v("Delete")])])])])])])])])])}),Oe=[],De=(a("a4d3"),a("e01a"),a("caad"),a("2532"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-main-item"},[t._m(0),a("div",{staticClass:"labels-container"},[t._l(t.labels,(function(e){return a("div",{key:e.id,staticClass:"labelDisplay list-complete-item",style:{backgroundColor:e.color}},[t._v(" "+t._s(e.title)+" ")])})),a("div",{staticClass:"add-label-btn",on:{click:t.toggleLabels}},[a("span",{staticClass:"icon-sm icon-add"}),t.isAddingLabel?a("labels-list",{attrs:{optionsLabels:t.board.labels,cardLabels:t.card.labelIds},on:{updateLabels:t.updateLabels,closePopups:t.toggleLabels,toggleCreateLabel:t.toggleCreateLabel,editLabel:t.setLabelToEdit}}):t._e(),t.isCreateLabel?a("create-labels",{attrs:{label:t.labelToEdit},on:{close:function(e){t.isCreateLabel=!1},createLabel:t.createLabel,removeLabel:t.removeLabel,back:t.toggleCreateLabel}}):t._e()],1)],2)])}),Pe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-item-header"},[a("h4",{staticClass:"main-item-title"},[t._v("LABELS")])])}],Re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"labels-list",on:{click:function(t){t.stopPropagation()}}},[a("span",{staticClass:"icon-sm icon-x",on:{click:t.close}}),a("header",[t._v("Labels")]),a("h3",[t._v("LABELS")]),a("div",{staticClass:"label-options"},t._l(t.optionsLabels,(function(e){return a("div",{key:e.id},[a("label-preview",{attrs:{label:e,cardLabels:t.labelsToEdit},on:{editLabel:t.editLabel,updateLabels:t.updateLabels}})],1)})),0),a("button",{staticClass:"create-label-btn",on:{click:t.toggleCreateLabel}},[t._v("Create a new label")])])},Ue=[],Ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"label-preview"},[a("div",{staticClass:"label-option",style:{backgroundColor:t.label.color},on:{click:function(e){return t.toggleLabel(t.label.id)}}},[t.label.title?a("span",[t._v(t._s(t.label.title))]):t._e(),t.labeled?a("span",{staticClass:"icon-sm icon-v"}):t._e()]),a("span",{staticClass:"icon-sm icon-edit",on:{click:t.editLabel}})])},Fe=[],He={props:{label:Object,cardLabels:Array},data:function(){return{labelsToEdit:this.cardLabels||[]}},computed:{labeled:function(){var t=this;return!!this.cardLabels&&this.cardLabels.some((function(e){return e===t.label.id}))}},methods:{toggleLabel:function(t){if(this.labelsToEdit.includes(t)){var e=this.labelsToEdit.findIndex((function(e){return e===t}));this.labelsToEdit.splice(e,1)}else this.labelsToEdit.push(t);this.updateLabels()},changeLabelTitle:function(){},updateLabels:function(){this.$emit("updateLabels",this.labelsToEdit)},editLabel:function(){this.$emit("editLabel",Object(Be["a"])({},this.label))}}},Je=He,ze=Object(g["a"])(Je,Ne,Fe,!1,null,null,null),Ge=ze.exports,Ve={props:{optionsLabels:Array,cardLabels:Array},data:function(){return{labelsToEdit:this.cardLabels||[]}},components:{labelPreview:Ge},methods:{editLabel:function(t){this.$emit("editLabel",t)},updateLabels:function(t){this.labelsToEdit=t,this.emitLabels()},emitLabels:function(){this.$emit("updateLabels",this.labelsToEdit)},close:function(){this.$emit("closePopups")},toggleCreateLabel:function(){this.$emit("toggleCreateLabel")}}},qe=Ve,We=Object(g["a"])(qe,Re,Ue,!1,null,null,null),Qe=We.exports,Ye=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"create-labels",on:{click:function(t){t.stopPropagation()}}},[a("span",{staticClass:"icon-sm icon-x",on:{click:t.close}}),a("span",{staticClass:"icon-sm icon-back",on:{click:t.back}}),a("header",[t._v("Create label")]),a("h3",[t._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.labelToEdit.title,expression:"labelToEdit.title"}],attrs:{type:"text"},domProps:{value:t.labelToEdit.title},on:{input:function(e){e.target.composing||t.$set(t.labelToEdit,"title",e.target.value)}}}),a("h3",[t._v("Select a color")]),a("div",{staticClass:"color-options"},t._l(t.colors,(function(e){return a("div",{key:e,staticClass:"color-option",style:{backgroundColor:e},on:{click:function(a){return t.setColor(e)}}},[t.selectedColor===e?a("div",[a("span",{staticClass:"icon-md icon-v"})]):t._e()])})),0),this.label?a("div",{staticClass:"edit-btns"},[a("button",{staticClass:"create-btn",on:{click:t.saveLabel}},[t._v("save")]),a("button",{staticClass:"delete-btn",on:{click:t.removeLabel}},[t._v("Delete")])]):a("button",{staticClass:"create-btn",on:{click:t.createLabel}},[t._v("Create")])])},Ze=[],Ke={props:{label:Object},data:function(){return{labelToEdit:JSON.parse(JSON.stringify(this.label))||{title:"",color:"",id:w.makeId()},colors:["#61bd4f","#f2d600","#ff9f1a","#eb5a46","#c377e0","#0079bf","#00c2e0","#51e898","#ff78cb","#344563"]}},methods:{setColor:function(t){this.labelToEdit.color=t},createLabel:function(){this.labelToEdit.color&&(this.$emit("createLabel",Object(Be["a"])({},this.labelToEdit)),this.labelToEdit={title:"",color:"",id:w.makeId()})},saveLabel:function(){this.$emit("createLabel",Object(Be["a"])({},this.labelToEdit))},removeLabel:function(){this.$emit("removeLabel",this.label.id)},close:function(){this.$emit("close")},back:function(){this.$emit("back")}},computed:{selectedColor:function(){return this.labelToEdit.color}}},Xe=Ke,ta=Object(g["a"])(Xe,Ye,Ze,!1,null,null,null),ea=ta.exports,aa={data:function(){return{isAddingLabel:!1,isCreateLabel:!1,labelToEdit:null}},props:{cardLabels:Array,card:Object,optionsLabels:Array,labels:Array},components:{labelsList:Qe,createLabels:ea},methods:{toggleLabels:function(){this.isAddingLabel=!this.isAddingLabel},setLabelToEdit:function(t){this.labelToEdit=t,this.toggleCreateLabel()},createLabel:function(t){this.labelToEdit=null,this.$emit("createLabel",t),this.toggleCreateLabel()},removeLabel:function(t){this.labelToEdit=null,this.toggleCreateLabel(),this.$emit("removeLabel",t)},toggleCreateLabel:function(){this.isAddingLabel=this.isCreateLabel,this.isCreateLabel=!this.isCreateLabel},updateLabels:function(t){this.$emit("updateLabels",t)}},computed:{board:function(){return this.$store.getters.board}}},sa=aa,ia=Object(g["a"])(sa,De,Pe,!1,null,null,null),ra=ia.exports,oa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-main-item"},[t._m(0),a("div",{staticClass:"members-container"},[t._l(t.members,(function(t){return a("div",{key:t._id,staticClass:"memberDisplay list-complete-item",style:{"margin-right":"0"}},[a("avatar",{attrs:{username:t.fullname,size:32,inline:"",color:"black",title:t.fullname}})],1)})),a("div",{staticClass:"add-member-btn list-complete-item"},[a("span",{staticClass:"icon-sm icon-add",on:{click:t.toggleAddingMember}})]),t.isAddingMember?a("members-list",{staticClass:"in-cmp",attrs:{cardMembers:t.members,boardMembers:t.boardMembers},on:{close:t.toggleAddingMember,updateMembers:t.updateMembers}}):t._e()],2)])},na=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-item-header"},[a("h4",{staticClass:"main-item-title"},[t._v("MEMBERS")])])}],ca=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"members-list-cmp",on:{click:function(t){t.stopPropagation()}}},[a("span",{staticClass:"icon-sm icon-x",on:{click:t.close}}),a("header",[t._v("Board Members")]),a("h4",[t._v("MEMBERS")]),a("div",{staticClass:"member-options"},t._l(t.boardMembers,(function(e){return a("div",{key:e._id},[a("member-preview",{attrs:{member:e,cardMembers:t.membersToEdit},on:{updateMembers:t.updateMembers,updateMentions:t.updateMentions}})],1)})),0)])},la=[],da=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"member-preview",on:{click:function(e){return t.toggleMember(t.member._id)}}},[a("div",{staticClass:"inner-container"},[a("avatar",{style:{backgroundColor:"#dfe1e6",color:"#172b4d"},attrs:{username:t.member.fullname,size:32,inline:!0}}),a("span",{staticClass:"member-txt"},[t._v(t._s(t.member.fullname)+" ")]),t.member.username?a("span",{staticClass:"member-txt"},[t._v(" ("+t._s(t.member.username)+") ")]):t._e()],1),t.assigned?a("span",{staticClass:"icon-sm icon-v"}):t._e()])},ua=[],pa={components:{avatar:I.a},props:{member:Object,cardMembers:Array},data:function(){return{membersToEdit:this.cardMembers||[]}},computed:{assigned:function(){var t=this,e=this.cardMembers.some((function(e){return e._id===t.member._id}));return e}},methods:{toggleMember:function(t){var e,a,s=this.membersToEdit.findIndex((function(e){return e._id===t}));-1===s?(this.membersToEdit.push(this.member),e=" added ".concat(this.member.fullname," "),a={txt:" added ",userId:t}):(this.membersToEdit.splice(s,1),e=" removed ".concat(this.member.fullname," "),a={txt:" removed ",userId:t});var i=e;this.updateMembers(i,a)},updateMembers:function(t,e){this.$emit("updateMembers",{newMembers:this.membersToEdit,activityTxt:t}),this.$emit("updateMentions",e)}}},ha=pa,ma=Object(g["a"])(ha,da,ua,!1,null,null,null),ga=ma.exports,ba={components:{memberPreview:ga},props:{boardMembers:Array,cardMembers:Array},data:function(){return{membersToEdit:this.cardMembers||[]}},methods:{updateMembers:function(t){var e=t.newMembers,a=t.activityTxt;this.membersToEdit=e,this.emitMembers(a)},updateMentions:function(t){this.$emit("updateMentions",t)},emitMembers:function(t){this.$emit("updateMembers",{members:this.membersToEdit,activityTxt:t})},close:function(){this.$emit("close")}}},fa=ba,va=Object(g["a"])(fa,ca,la,!1,null,null,null),Ca=va.exports,ya={props:{members:Array},data:function(){return{isAddingMember:!1}},components:{avatar:I.a,membersList:Ca},computed:{boardMembers:function(){return this.$store.getters.board.members}},methods:{toggleAddingMember:function(){this.isAddingMember=!this.isAddingMember},updateMembers:function(t){this.$emit("updateMembers",t)}}},ka=ya,wa=Object(g["a"])(ka,oa,na,!1,null,null,null),_a=wa.exports,xa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-main-item"},[a("div",{staticClass:"main-item-header activity"},[t._m(0),a("button",{staticClass:"card-sidebar-btn",on:{click:t.toggleDetails}},[t.showDetails?a("span",[t._v("Hide Details")]):a("span",[t._v("Show Details")])])]),t.activities.length&&t.showDetails?a("div",t._l(t.activities,(function(t){return a("activity-preview",{key:t.id,attrs:{render:"card",activity:t}})})),1):t.activities&&t.activities.length?a("div",[t._l(1,(function(e){return[a("activity-preview",{key:t.activities[e].id,attrs:{activity:t.activities[e]}})]}))],2):t._e()])},Ta=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"inner-header"},[a("span",{staticClass:"icon-lg icon-activity"}),a("h3",{staticClass:"main-item-title"},[t._v("Activity")])])}],Ea={props:{activities:Array},data:function(){return{showDetails:!1}},components:{activityPreview:Ot},methods:{toggleDetails:function(){this.showDetails=!this.showDetails}}},$a=Ea,Aa=Object(g["a"])($a,xa,Ta,!1,null,null,null),La=Aa.exports,Sa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-main-item"},[t._m(0),a("div",{staticClass:"checkbox-date-container"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.isCompletedCopy,expression:"isCompletedCopy"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isCompletedCopy)?t._i(t.isCompletedCopy,null)>-1:t.isCompletedCopy},on:{change:[function(e){var a=t.isCompletedCopy,s=e.target,i=!!s.checked;if(Array.isArray(a)){var r=null,o=t._i(a,r);s.checked?o<0&&(t.isCompletedCopy=a.concat([r])):o>-1&&(t.isCompletedCopy=a.slice(0,o).concat(a.slice(o+1)))}else t.isCompletedCopy=i},t.toggleCompleted]}}),a("div",{staticClass:"date-container"},[t._v(" "+t._s(t.date)+" "),a("span",{staticClass:"due-date-text",style:{backgroundColor:t.isSoon.backgroundColor,color:t.isSoon.color}},[t._v(t._s(t.isSoon.time))])])])])},Ma=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-item-header"},[a("h4",{staticClass:"main-item-title"},[t._v("DUE DATE")])])}],ja={props:{date:String,isCompleted:Boolean},data:function(){return{isCompletedCopy:this.isCompleted}},computed:{isSoon:function(){if(this.isCompleted)return{time:"COMPLETE",backgroundColor:"#61BD4F",color:"white"};var t=Date.parse(new Date),e=Date.parse(this.date),a=e-t;return a<0?{time:"OVERDUE",backgroundColor:"#ec9488",color:"white"}:a<864e5?{time:"DUE SOON",backgroundColor:"#F2D600",color:"#172B4D"}:{time:"",backgroundColor:"rgba(9, 30, 66, 0.08)",color:"#172B4D"}}},methods:{toggleCompleted:function(){this.$emit("toggleCompleted",this.isCompletedCopy)}}},Ba=ja,Ia=Object(g["a"])(Ba,Sa,Ma,!1,null,null,null),Oa=Ia.exports,Da=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-main-item"},[t._m(0),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.descToEdit,expression:"descToEdit"}],staticClass:"description-textarea",attrs:{spellcheck:"false",placeholder:"Add a more detailed description"},domProps:{value:t.descToEdit},on:{input:[function(e){e.target.composing||(t.descToEdit=e.target.value)},t.updateDesc],focus:function(e){return t.editDesc(!0)},blur:function(e){return t.editDesc(!1)}}}),t.descTextarea?a("button",{staticClass:"desc-save-btn",on:{click:function(e){return e.stopPropagation(),t.editDesc(!1)}}},[t._v(" Save ")]):t._e()])},Pa=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-item-header"},[a("span",{staticClass:"icon-lg icon-desc"}),a("h3",{staticClass:"main-item-title"},[t._v("Description")])])}],Ra={props:{description:String},data:function(){return{descTextarea:!1,descToEdit:this.description||""}},methods:{editDesc:function(t){this.descTextarea=t},updateDesc:function(){this.$emit("updateDesc",this.descToEdit)}}},Ua=Ra,Na=Object(g["a"])(Ua,Da,Pa,!1,null,null,null),Fa=Na.exports,Ha=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"checklists"},[a("transition-group",{attrs:{name:"fade"}},t._l(t.checklists,(function(e,s){return a("div",{key:e.id,staticClass:"card-main-item"},[a("checklist-preview",{attrs:{checklist:e},on:{updateChecklist:function(e){return t.updateCl(e,s)},removeCl:function(e){return t.removeCl(s)}}})],1)})),0)],1)},Ja=[],za=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"checklist-preview"},[a("div",{staticClass:"main-item-header checklist"},[a("div",{staticClass:"inner-header"},[a("span",{staticClass:"icon-lg icon-checklist"}),a("h3",{staticClass:"main-item-title"},[t._v(t._s(t.checklistToEdit.title))])]),a("button",{staticClass:"card-sidebar-btn",on:{click:t.removeCl}},[t._v("Delete")])]),a("div",{staticClass:"progress-bar-container"},[a("span",[t._v(t._s(t.progressBar.width))]),a("div",{staticClass:"progress-bar"},[a("div",{style:t.progressBar})])]),t._l(t.checklist.todos,(function(e,s){return a("div",{key:e.id,staticClass:"todo"},[a("div",{staticClass:"inner"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.isDone,expression:"todo.isDone"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isDone)?t._i(e.isDone,null)>-1:e.isDone},on:{change:[function(a){var s=e.isDone,i=a.target,r=!!i.checked;if(Array.isArray(s)){var o=null,n=t._i(s,o);i.checked?n<0&&t.$set(e,"isDone",s.concat([o])):n>-1&&t.$set(e,"isDone",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(e,"isDone",r)},function(e){return t.toggleTodo(s)}]}}),a("div",{on:{click:function(e){return t.toggleTodo(s)}}},[a("span",{class:{completed:e.isDone}},[t._v(t._s(e.title))])])]),a("div",{staticClass:"todo-btns"},[t._m(0,!0),t._m(1,!0),a("button",[a("span",{staticClass:"icon-sm icon-delete",on:{click:function(e){return t.deleteTodo(s)}}})])])])})),t.addingTodo?a("div",{staticClass:"add-todo-container"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.todoToAdd.title,expression:"todoToAdd.title"}],ref:"addTodo",staticClass:"add-todo-input",attrs:{type:"text",placeholder:"Add an item"},domProps:{value:t.todoToAdd.title},on:{input:function(e){e.target.composing||t.$set(t.todoToAdd,"title",e.target.value)}}}),a("div",[a("button",{staticClass:"save-todo-btn",on:{click:function(e){return t.addTodo()}}},[t._v("Add")]),a("span",{staticClass:"icon-lg icon-x"})])]):a("button",{staticClass:"add-todo-btn card-sidebar-btn",on:{click:function(e){return t.addTodo()}}},[a("span",[t._v("Add an item")])])],2)},Ga=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",[a("span",{staticClass:"icon-sm icon-date"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",[a("span",{staticClass:"icon-sm icon-assign"})])}],Va=(a("b680"),{props:{checklist:Object},data:function(){return{checklistToEdit:Object(Be["a"])({},this.checklist),addingTodo:!1,todoToAdd:{title:"",isDone:!1,id:w.makeId()}}},computed:{progressBar:function(){if(!this.checklistToEdit.todos.length)return{width:"0%"};var t={done:0,total:0};this.checklistToEdit.todos.forEach((function(e){e.isDone&&t.done++,t.total++}));var e,a=(t.done/t.total*100).toFixed(0)+"%";return"100%"===a&&(e="#61bd4f"),{width:a,"background-color":e}}},methods:{removeCl:function(){this.$emit("removeCl",this.checklistToEdit)},toggleTodo:function(t){var e=this.checklistToEdit.todos[t].isDone?" marked ".concat(this.checklistToEdit.todos[t].title," incomplete "):" completed ".concat(this.checklistToEdit.todos[t].title," "),a=e;this.checklistToEdit.todos[t].isDone=!this.checklistToEdit.todos[t].isDone,this.updateChecklist(a)},deleteTodo:function(t){this.checklistToEdit.todos.splice(t,1),this.updateChecklist()},addTodo:function(){var t=this;if(this.addingTodo=!this.addingTodo,!this.addingTodo)return this.checklistToEdit.todos.push(Object(Be["a"])({},this.todoToAdd)),this.todoToAdd={title:"",isDone:!1,id:w.makeId()},void this.updateChecklist();this.$nextTick((function(){return t.$refs.addTodo.focus()}))},updateChecklist:function(t){this.$emit("updateChecklist",{checklist:this.checklistToEdit,activityTxt:t})},emitActivity:function(t){this.$emit("emitActivity",t)}}}),qa=Va,Wa=Object(g["a"])(qa,za,Ga,!1,null,null,null),Qa=Wa.exports,Ya={props:{checklists:Array},components:{checklistPreview:Qa},data:function(){return{checklistsToEdit:JSON.parse(JSON.stringify(this.checklists)),addingTodo:!1}},computed:{},methods:{updateCl:function(t,e){var a=t.checklist,s=t.activityTxt;this.checklistsToEdit.splice(e,1,a),this.updateChecklists(s)},removeCl:function(t){this.checklistsToEdit.splice(t,1),this.updateChecklists()},updateChecklists:function(t){var e=JSON.parse(JSON.stringify(this.checklistsToEdit));this.$emit("updateChecklists",{checklists:e,activityTxt:t})}},watch:{checklists:{handler:function(t){this.checklistsToEdit=t},deep:!0}}},Za=Ya,Ka=Object(g["a"])(Za,Ha,Ja,!1,null,null,null),Xa=Ka.exports,ts=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"checklist-add",on:{click:function(t){t.stopPropagation()}}},[a("span",{staticClass:"icon-sm icon-x",on:{click:t.close}}),a("header",[t._v("Add checklist")]),a("label",[a("h4",[t._v("Title")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.checklist.title,expression:"checklist.title"}],ref:"input",attrs:{type:"text",placeholder:"checkList"},domProps:{value:t.checklist.title},on:{input:function(e){e.target.composing||t.$set(t.checklist,"title",e.target.value)}}})]),a("button",{staticClass:"add-cl-btn",on:{click:t.addCl}},[t._v("Add")])])},es=[],as={data:function(){return{checklist:{id:w.makeId(),title:"",todos:[]}}},methods:{addCl:function(){this.checklist.title?(this.$emit("addCl",Object(Be["a"])({},this.checklist)),this.checklist={id:w.makeId(),title:"",todos:[]}):this.$refs.input.focus()},close:function(){this.$emit("closePopups")}},mounted:function(){this.$refs.input.focus()}},ss=as,is=Object(g["a"])(ss,ts,es,!1,null,null,null),rs=is.exports,os=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"file-upload-cmp",on:{click:function(t){t.stopPropagation()}}},[s("span",{staticClass:"icon-sm icon-x",on:{click:t.close}}),s("header",[t._v("Attach an image...")]),s("el-upload",{directives:[{name:"show",rawName:"v-show",value:!t.isUploading,expression:"!isUploading"}],ref:"upload",class:{uploaded:t.isChosen},attrs:{action:"","submit.prevent":"handleFile()","auto-upload":!1,"on-preview":t.handlePictureCardPreview,"on-remove":t.handleRemove,"on-change":t.handleChange,"list-type":"picture-card"}},[t.isChosen?s("el-button",{attrs:{type:"primary"},on:{click:function(e){return e.stopPropagation(),t.handleFile.apply(null,arguments)}}},[t._v(" Save image ")]):s("i",{staticClass:"el-icon-plus"})],1),s("img",{directives:[{name:"show",rawName:"v-show",value:t.isUploading,expression:"isUploading"}],staticClass:"loader",attrs:{src:a("5e4c")}}),s("el-dialog",{attrs:{visible:t.dialogVisible,top:"7vh",center:!0,"lock-scroll":!0,"append-to-body":!0},on:{"update:visible":function(e){t.dialogVisible=e}}},[s("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)},ns=[],cs=(a("b0c0"),a("b676")),ls=a("07a2"),ds={props:{attachments:Array},data:function(){return{attachmentsToEdit:this.attachments||[],isUploading:!1,isChosen:!1,dialogImageUrl:"",dialogVisible:!1,uploadedFile:null,attachment:{id:"",isCover:!1,createdAt:null,filename:"",props:{},url:""}}},methods:{handleFile:function(){this.onfileUpload()},handleChange:function(t){if(!t.raw.type.includes("image"))return this.$message.error("Only images can be uploaded."),void this.$refs.upload.clearFiles();this.uploadedFile=JSON.parse(JSON.stringify(t)),this.isChosen=!0,document.querySelector(".el-upload__input").disabled=!0},onfileUpload:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isUploading=!0,e.next=3,Object(cs["a"])({url:t.uploadedFile.url,type:"image"});case 3:return a=e.sent,e.next=6,new Promise((function(t){var e=new ls["a"],s=new Image;s.onload=function(){t(e.getColor(s))},s.crossOrigin="Anonymous",s.src=a.url}));case 6:t.attachment.props.colorArray=e.sent,t.attachment.id=w.makeId(),t.attachment.createdAt=Date.now(),t.attachment.filename=t.uploadedFile.name,t.attachment.props.width=a.width,t.attachment.props.height=a.height,t.attachment.props.format=a.format,t.attachment.props.size=a.bytes,t.attachment.url=a.secure_url,t.attachment.props.type="image",document.querySelector(".el-upload__input").disabled=!1,t.close(),t.attachmentsToEdit.push(t.attachment),1===t.attachmentsToEdit.length&&(t.attachmentsToEdit[0].isCover=!0),t.$emit("updateAttachments",t.attachmentsToEdit);case 21:case"end":return e.stop()}}),e)})))()},close:function(){this.$emit("close")},handleRemove:function(){this.isChosen=!1,document.querySelector(".el-upload__input").disabled=!1},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0}}},us=ds,ps=Object(g["a"])(us,os,ns,!1,null,null,null),hs=ps.exports,ms=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-main-item"},[t._m(0),t._l(t.attachments,(function(e){return a("div",{key:e.id,staticClass:"attachment-thumbnail"},[a("a",{staticClass:"attachment-thumbnail-preview",style:"image"===e.props.type?"background-image: url('"+e.url+"'); background-color: rgb("+e.props.colorArray[0]+","+e.props.colorArray[1]+","+e.props.colorArray[2]+"); background-size: 'contain'":"video"===e.props.type?"background-image: url('"+e.props.thumbnail+"'); background-color: "+e.props.colorArray.rgb+"; background-size: 'contain'":"",attrs:{href:e.url,target:"_blank"}},["audio"===e.props.type?a("span",{staticClass:"icon-lg icon-audio",staticStyle:{"font-size":"50px"}}):t._e()]),a("p",{staticClass:"attachment-thumbnail-details"},[a("span",{staticClass:"attachment-thumbnail-name"},[t._v(t._s(e.filename))]),a("a",{staticClass:"attachment-thumbnail-details-title",attrs:{href:e.url,target:"_blank"}},[a("span",{staticClass:"icon-sm icon-external-link"})]),a("span",{staticClass:"attachment-thumbnail-details-title-options"},[a("span",[t._v("Added "),a("span",{staticClass:"date past"},[t._v(t._s(t._f("moment")(e.createdAt,"calendar")))])]),a("span",[a("a",{staticClass:"attachment-thumbnail-details-title-options-item",on:{click:t.commetAttachment}},[a("span",{staticClass:"attachment-thumbnail-details-options-item-text"},[t._v("Comment")])])]),a("span",[a("a",{staticClass:"attachment-thumbnail-details-title-options-item",on:{click:function(a){return t.deleteAttachment(e.id)}}},[a("span",{staticClass:"attachment-thumbnail-details-options-item-text"},[t._v("Delete ")])])]),a("span",[a("a",{staticClass:"attachment-thumbnail-details-title-options-item",on:{click:t.editFileName}},[a("span",{staticClass:"attachment-thumbnail-details-options-item-text"},[t._v("Edit ")])])])]),a("span",{staticClass:"attachment-thumbnail-details-options"},[e.isCover||"audio"===e.props.type?e.isCover&&"audio"!==e.props.type?a("a",{staticClass:"attachment-thumbnail-details-options-item"},[a("span",{staticClass:"icon-sm icon-card-cover"}),a("span",{staticClass:"attachment-thumbnail-details-options-item-text",on:{click:function(a){return t.toggleCover(e.id)}}},[t._v("Remove cover ")])]):t._e():a("a",{staticClass:"attachment-thumbnail-details-options-item"},[a("span",{staticClass:"icon-sm icon-card-cover"}),a("span",{staticClass:"attachment-thumbnail-details-options-item-text",on:{click:function(a){return t.toggleCover(e.id)}}},[t._v("Make cover ")])])])])])}))],2)},gs=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-item-header"},[a("span",{staticClass:"icon-lg icon-attach"}),a("h3",{staticClass:"main-item-title"},[t._v("Attachments")])])}],bs={props:{attachments:Array},data:function(){return{attachmentsToEdit:this.attachments}},methods:{commetAttachment:function(){},deleteAttachment:function(t){var e=this.attachmentsToEdit.findIndex((function(e){return e.id===t}));this.attachmentsToEdit.splice(e,1),this.updateAttachments()},editFileName:function(){},toggleCover:function(t){var e=this;this.attachmentsToEdit.forEach((function(a,s){a.id!==t&&e.attachmentsToEdit[s].isCover&&(e.attachmentsToEdit[s].isCover=!1),a.id===t&&(e.attachmentsToEdit[s].isCover=!e.attachmentsToEdit[s].isCover)})),this.updateAttachments()},updateAttachments:function(){var t=JSON.parse(JSON.stringify(this.attachmentsToEdit));this.$emit("updateAttachments",t)}}},fs=bs,vs=Object(g["a"])(fs,ms,gs,!1,null,null,null),Cs=vs.exports,ys=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"pop-over"},[a("div",{staticClass:"pop-over-header"},[a("span",{staticClass:"pop-over-header-title"},[t._v("Cover")]),a("a",{staticClass:"icon-sm icon-close",on:{click:t.close}})]),a("div",{staticClass:"pop-over-content"},[a("div",{staticClass:"wrapper"},[a("h4",{staticClass:"title"},[t._v("Size")]),a("div",{staticClass:"grid"},[a("div",{staticClass:"button",class:{"is-selected":"top"===t.cardToEdit.cover.layout&&t.cardToEdit.cover.isCover,disabled:!t.cardToEdit.cover.isCover},attrs:{role:"button"},on:{click:function(e){return e.stopPropagation(),t.changeLayout("top")}}},[a("div",{staticClass:"image",style:t.background}),t._m(0)]),a("div",{staticClass:"button",class:{"is-selected":"full"===t.cardToEdit.cover.layout&&t.cardToEdit.cover.isCover,disabled:!t.cardToEdit.cover.isCover},style:t.background,attrs:{role:"button"},on:{click:function(e){return e.stopPropagation(),t.changeLayout("full")}}},[t._m(1)])]),t.cardToEdit.cover.isCover?a("button",{staticClass:"btn",on:{click:t.removeCover}},[t._v(" Remove cover ")]):t._e(),a("h4",{staticClass:"title"},[t._v("Colors")]),a("div",{staticClass:"colors"},t._l(t.colors,(function(e){return a("button",{key:e,staticClass:"color",style:{"background-color":e},on:{click:function(a){return a.stopPropagation(),t.setBgColor(e)}}})})),0),a("h4",{staticClass:"title"},[t._v("Attachments")]),t.cardToEdit.attachments&&t.cardToEdit.attachments.length?a("div",{staticClass:"attachments"},[t._l(t.cardToEdit.attachments,(function(e,s){return["audio"!==e.props.type?a("button",{key:e.id,staticClass:"btn-attach",class:{"is-selected":"attachment"===t.cardToEdit.cover.type&&e.isCover},style:"image"===e.props.type?"background-image: url('"+e.url+"'); background-color: rgb("+e.props.colorArray[0]+","+e.props.colorArray[1]+","+e.props.colorArray[2]+"); background-size: 'contain'":"background-image: url('"+e.props.thumbnail+"'); background-color: "+e.props.colorArray.rgb+"; background-size: 'contain'",on:{click:function(e){return e.stopPropagation(),t.setAttachment(s)}}}):t._e()]}))],2):t._e(),a("button",{staticClass:"btn",on:{click:t.openFileUpload}},[t._v(" Upload a cover image ")]),a("div",{staticClass:"tip"},[t._v("Tip: Drag an image on to the card to upload it.")]),a("h4",{staticClass:"title"},[t._v("unsplash")]),a("div",{staticClass:"photos"},t._l(t.photos,(function(e,s){return a("div",{key:s+1,staticClass:"photo"},[a("button",{staticClass:"btn-photo",style:{"background-image":"url('"+e.url+"')"},on:{click:function(a){return a.stopPropagation(),t.setPhoto(e)}}})])})),0),a("button",{staticClass:"btn",on:{click:t.togglePhotos}},[t._v("Search for photos")])])]),t.isAddingPhotos?a("background-photos",{on:{updateBoard:function(e){return t.setPhoto({url:e.payload.preview,colorArray:[]})},closeMenu:t.togglePhotos}}):t._e()],1)},ks=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layover"},[a("div"),a("div"),a("div",[a("div"),a("div")]),a("div")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div"),a("div"),a("div",[a("div"),a("div")]),a("div")])}],ws={components:{backgroundPhotos:te},props:{card:Object},data:function(){return{cardToEdit:this.card,isAddingPhotos:!1,photos:[{url:"https://images.unsplash.com/photo-1495567720989-cebdbdd97913?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=400&q=80",colorArray:[202,181,174]},{url:"https://images.unsplash.com/photo-1512641406448-6574e777bec6?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=634&q=80",colorArray:[43,38,52]},{url:"https://images.unsplash.com/photo-1459745930869-b3d0d72c3cbb?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=967&q=80",colorArray:[188,183,178]},{url:"https://images.unsplash.com/photo-1626711656195-4db07dd46c8f?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=400&q=80",colorArray:[60,67,69]},{url:"https://images.unsplash.com/photo-1422493757035-1e5e03968f95?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80",colorArray:[4,12,17]},{url:"https://images.unsplash.com/photo-1626800349607-773f9a7b105c?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80",colorArray:[198,199,199]}],colors:["#7bc86c","#f5dd29","#ffaf3f","#ef7564","#cd8de5","#5ba4cf","#29cce5","#6deca9","#ff8ed4","#172b4d"]}},computed:{background:function(){return!(!this.card.cover||!this.card.cover.isCover)&&("attachment"===this.cardToEdit.cover.type?"image"===this.cardToEdit.attachments[this.cardToEdit.cover.attachmentIdx].props.type?"background-image: url('".concat(this.cardToEdit.attachments[this.cardToEdit.cover.attachmentIdx].url,"')"):"background-image: url('".concat(this.cardToEdit.attachments[this.cardToEdit.cover.attachmentIdx].props.thumbnail,"')"):"color"===this.cardToEdit.cover.type?"background-color: ".concat(this.cardToEdit.cover.color):"background-image: url('".concat(this.cardToEdit.cover.photo.url,"')"))}},methods:{close:function(){this.$emit("close")},togglePhotos:function(){this.isAddingPhotos=!this.isAddingPhotos},changeLayout:function(t){this.$set(this.cardToEdit.cover,"layout",t),this.$emit("updateCard",this.cardToEdit)},setBgColor:function(t){var e=this;this.$set(this.cardToEdit.cover,"isCover",!0),this.$set(this.cardToEdit.cover,"type","color"),this.$set(this.cardToEdit.cover,"color",t),this.cardToEdit.attachments&&this.cardToEdit.attachments.forEach((function(t){e.$set(t,"isCover",!1)})),this.$set(this.cardToEdit.cover,"photo",null),this.$set(this.cardToEdit.cover,"attachmentIdx",null),this.cardToEdit.cover.layout||this.$set(this.cardToEdit.cover,"layout","top"),this.$emit("updateCard",this.cardToEdit)},setAttachment:function(t){var e=this;this.$set(this.cardToEdit.cover,"isCover",!0),this.$set(this.cardToEdit.cover,"type","attachment"),this.$set(this.cardToEdit.cover,"attachmentIdx",t),this.$set(this.cardToEdit.cover,"photo",null),this.cardToEdit.attachments.forEach((function(t,a){t.isCover&&e.$set(e.cardToEdit.attachments[a],"isCover",!1)})),this.$set(this.cardToEdit.attachments[t],"isCover",!0),this.$emit("updateCard",this.cardToEdit)},setPhoto:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,new Promise((function(e){var a=new ls["a"],s=new Image;s.onload=function(){e(a.getColor(s))},s.crossOrigin="Anonymous",s.src=t.url}));case 2:t.colorArray=a.sent,e.$set(e.cardToEdit.cover,"isCover",!0),e.$set(e.cardToEdit.cover,"type","url"),e.$set(e.cardToEdit.cover,"photo",t),e.$set(e.cardToEdit.cover,"attachmentIdx",null),e.$set(e.cardToEdit.cover,"color",""),e.cardToEdit.attachments&&e.cardToEdit.attachments.forEach((function(t){e.$set(t,"isCover",!1)})),e.cardToEdit.cover.layout||e.$set(e.cardToEdit.cover,"layout","full"),e.$emit("updateCard",e.cardToEdit);case 11:case"end":return a.stop()}}),a)})))()},removeCover:function(){"attachment"===this.cardToEdit.cover.type&&this.$set(this.cardToEdit.attachments[this.cardToEdit.cover.attachmentIdx],"isCover",!1),this.$set(this.cardToEdit,"cover",{isCover:!1,type:"",color:"",attachmentIdx:null,photo:{url:"",colorArray:[]},layout:"top"}),this.$emit("updateCard",this.cardToEdit)},openFileUpload:function(){this.$emit("toggleAttch")}}},_s=ws,xs=Object(g["a"])(_s,ys,ks,!1,null,null,null),Ts=xs.exports,Es={props:{card:Object,group:Object},data:function(){return{cardToEdit:this.card,addingTodo:!1,isAddingChecklist:!1,isAddingLabel:!1,isCreateLabel:!1,isAddingMember:!1,isAddingAttachment:!1,isAddingCover:!1,labelToEdit:null,cardDate:""}},components:{labelsCmp:ra,createLabels:ea,dateCmp:Oa,membersCmp:_a,descriptionCmp:Fa,checklistsCmp:Xa,activityCmp:La,labelsList:Qe,checklistAdd:rs,membersList:Ca,fileUpload:hs,attachmentCmp:Cs,coverCmp:Ts},methods:{exitCard:function(){this.$emit("clearCard")},closePopups:function(){this.isAddingChecklist=!1,this.isAddingLabel=!1,this.isCreateLabel=!1,this.isAddingMember=!1,this.isAddingAttachment=!1,this.isAddingCover=!1},setLabelToEdit:function(t){this.labelToEdit=t,this.toggleCreateLabel()},toggleCl:function(){var t=this;this.isAddingChecklist||this.closePopups(),this.isAddingChecklist=!this.isAddingChecklist,this.isAddingChecklist&&this.$nextTick((function(){var e=t.$refs.checklistmodal.$el.getBoundingClientRect();window.innerWidth-e.left<305&&(t.$refs.checklistmodal.$el.style.right=0,t.$refs.checklistmodal.$el.style.left="unset"),window.innerHeight-e.top<e.height&&(t.$refs.checklistmodal.$el.style.top=-e.height+"px")}))},toggleCreateLabel:function(){this.isAddingLabel=this.isCreateLabel,this.isCreateLabel=!this.isCreateLabel},toggleLabel:function(){var t=this;this.isAddingLabel||this.closePopups(),this.isAddingLabel=!this.isAddingLabel,this.isAddingLabel&&this.$nextTick((function(){var e=t.$refs.labelmodal.$el.getBoundingClientRect();window.innerWidth-e.left<305&&(t.$refs.labelmodal.$el.style.right=0,t.$refs.labelmodal.$el.style.left="unset"),window.innerHeight-e.top<e.height&&(t.$refs.labelmodal.$el.style.top=-e.height+"px")}))},toggleMember:function(){var t=this;this.isAddingMember||this.closePopups(),this.isAddingMember=!this.isAddingMember,this.isAddingMember&&this.$nextTick((function(){var e=t.$refs.membermodal.$el.getBoundingClientRect();window.innerWidth-e.left<305&&(t.$refs.membermodal.$el.style.right=0,t.$refs.membermodal.$el.style.left="unset"),window.innerHeight-e.top<e.height&&(t.$refs.membermodal.$el.style.top=-e.height+"px")}))},toggleAttch:function(){var t=this;this.isAddingAttachment||this.closePopups(),this.isAddingAttachment=!this.isAddingAttachment,this.isAddingAttachment&&this.$nextTick((function(){var e=t.$refs.attachmentmodal.$el.getBoundingClientRect();window.innerWidth-e.left<305&&(t.$refs.attachmentmodal.$el.style.right=0,t.$refs.attachmentmodal.$el.style.left="unset"),window.innerHeight-e.top<e.height&&(t.$refs.attachmentmodal.$el.style.top=-e.height+"px")}))},toggleCover:function(){this.isAddingCover||this.closePopups(),this.cardToEdit.cover||this.$set(this.cardToEdit,"cover",{isCover:!1,type:"",color:"",attachmentIdx:null,photo:{url:"",colorArray:[]},layout:""}),this.isAddingCover=!this.isAddingCover},toggleCompleted:function(t){this.cardToEdit.isCompleted=t,this.emitCard()},updateDesc:function(t){this.cardToEdit.description=t,this.emitCard()},updateDate:function(){this.cardToEdit.dueDate=this.cardDate;var t=" changed the due date to ".concat(this.cardDate," ");this.emitCard(t)},updateTitle:function(){this.emitCard()},updateMembers:function(t){var e=t.members,a=t.activityTxt;this.cardToEdit.members=e,this.emitCard(a)},updateMentions:function(t){t.byMember=this.$store.getters.loggedInUser.fullname,t.cId=this.card.id,t.gId=this.group.id,t.dueDate=this.card.dueDate,t.createdAt=Date.now(),t.userId===this.$store.getters.loggedInUser._id?t.isRead=!0:t.isRead=!1,this.$emit("updateMentions",t)},addCl:function(t){this.cardToEdit.checklists||(this.cardToEdit.checklists=[]);var e=JSON.parse(JSON.stringify(this.cardToEdit.checklists));e.push(t),this.cardToEdit.checklists=JSON.parse(JSON.stringify(e)),this.closePopups(),this.emitCard()},updateCL:function(t){var e=t.checklists,a=t.activityTxt;this.cardToEdit.checklists=e,this.emitCard(a)},updateLabels:function(t){this.cardToEdit.labelIds=t,this.emitCard()},joinToCard:function(){var t=this.$store.getters.loggedInUser;"guest"===t.username&&(t._id="g001"),this.cardToEdit.members.push(t);var e=" joined ";this.emitCard(e)},createLabel:function(t,e){this.labelToEdit=null,this.$emit("createLabel",t),this.isAddingLabel=e,this.isCreateLabel=!1},removeLabel:function(t,e){this.labelToEdit=null,this.isAddingLabel=e,this.isCreateLabel=!1,this.$emit("removeLabel",t)},removeCard:function(){this.$emit("removeCard",this.cardToEdit.id)},updateCard:function(t){this.$set(this,"cardToEdit",t),this.emitCard()},emitCard:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=JSON.parse(JSON.stringify(this.cardToEdit)),a={};t&&(a.byMember=this.$store.getters.loggedInUser,a.cTitle=this.card.title,a.cId=this.card.id,a.gId=this.group.id,a.txt=t,a.isSpecific=!0),this.$emit("updateCard",{updatedCard:e,activity:a})},updateAttachments:function(t){var e=this;this.$set(this.cardToEdit,"attachments",t),this.cardToEdit.cover||this.$set(this.cardToEdit,"cover",{}),"attachment"===this.cardToEdit.cover.type&&this.cardToEdit.attachments.every((function(t){return!t.isCover}))?this.$set(this.cardToEdit,"cover",{isCover:!1,type:"",color:"",attachmentIdx:null,photo:{url:"",colorArray:[]},layout:"top"}):this.cardToEdit.attachments.forEach((function(t,a){t.isCover&&(e.$set(e.cardToEdit.cover,"isCover",!0),e.$set(e.cardToEdit.cover,"type","attachment"),e.$set(e.cardToEdit.cover,"attachmentIdx",a),e.$set(e.cardToEdit.cover,"layout","full"))})),this.emitCard()}},computed:{filteredActivities:function(){var t=this,e=this.$store.getters.board.activities;return e.filter((function(e){return e.cId===t.card.id&&e.gId===t.group.id}))},labelsForDisplay:function(){var t=this,e=this.$store.getters.board.labels;return e.filter((function(e){if(t.cardToEdit.labelIds.includes(e.id))return e}))},loggedUser:function(){return this.$store.getters.loggedInUser},userInCard:function(){var t=this.loggedUser;if(this.cardToEdit.members)return this.cardToEdit.members.some((function(e){return e._id===t._id}))},allUsers:function(){return this.$store.getters.users},board:function(){return this.$store.getters.board},background:function(){return!!this.cardToEdit.cover.isCover&&("attachment"===this.cardToEdit.cover.type?"image"===this.cardToEdit.attachments[this.cardToEdit.cover.attachmentIdx].props.type?"background-color: rgb(".concat(this.cardToEdit.attachments[this.cardToEdit.cover.attachmentIdx].props.colorArray[0],",").concat(this.cardToEdit.attachments[this.cardToEdit.cover.attachmentIdx].props.colorArray[1],",").concat(this.cardToEdit.attachments[this.cardToEdit.cover.attachmentIdx].props.colorArray[2],"); background-image: url('").concat(this.cardToEdit.attachments[this.cardToEdit.cover.attachmentIdx].url,"');"):"background-color: ".concat(this.cardToEdit.attachments[this.cardToEdit.cover.attachmentIdx].props.colorArray.rgb,"; background-image: url('").concat(this.cardToEdit.attachments[this.cardToEdit.cover.attachmentIdx].url,"');"):"color"===this.cardToEdit.cover.type?"background-color: ".concat(this.cardToEdit.cover.color,"; height: 116px"):"background-color: rgb(".concat(this.cardToEdit.cover.photo.colorArray[0],",").concat(this.cardToEdit.cover.photo.colorArray[1],",").concat(this.cardToEdit.cover.photo.colorArray[2],"); background-image: url('").concat(this.cardToEdit.cover.photo.url,"')"))}}},$s=Es,As=Object(g["a"])($s,Ie,Oe,!1,null,null,null),Ls=As.exports,Ss=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeQuickEdit,expression:"closeQuickEdit"}],staticClass:"card-preview-container",class:{"quick-edit-card":t.isQuickEdit}},[a("section",{ref:"cardpreview",staticClass:"card-preview-inner-container"},[t.card.id&&t.card.cover&&"full"===t.card.cover.layout?["color"===t.card.cover.type||"url"===t.card.cover.type||"attachment"===t.card.cover.type&&"image"===t.card.attachments[t.card.cover.attachmentIdx].props.type?a("section",{staticClass:"card-preview-full-image",class:{color:"color"===t.card.cover.type},style:t.background,on:{mouseenter:t.toggleHover,mouseleave:t.toggleHover}},[t.card.attachments&&t.card.attachments.length&&"audio"===t.card.attachments[0].props.type?a("audio",{attrs:{controls:""}},[a("source",{attrs:{src:t.card.attachments[0].props.url}})]):t._e(),t.cardHover?a("span",{staticClass:"icon-sm icon-edit",on:{click:function(e){return e.stopPropagation(),t.toggleQuickEdit.apply(null,arguments)}}}):t._e(),t.isQuickEdit?t._e():a("span",{staticClass:"card-preview-full-image-title"},[t._v(t._s(t.card.title))]),t.isQuickEdit?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.cardTitle,expression:"cardTitle"}],ref:"cardtitle",domProps:{value:t.cardTitle},on:{click:function(t){t.stopPropagation()},input:function(e){e.target.composing||(t.cardTitle=e.target.value)}}}):t._e()]):"attachment"===t.card.cover.type&&"video"===t.card.attachments[t.card.cover.attachmentIdx].props.type?a("section",{staticClass:"card-preview-full-image",style:t.background,on:{mouseenter:t.toggleHover,mouseleave:t.toggleHover}},[a("video",{attrs:{poster:t.card.attachments[t.card.cover.attachmentIdx].props.thumbnail,autoplay:"",muted:"",loop:""},domProps:{muted:!0}},[a("source",{attrs:{src:t.card.attachments[t.card.cover.attachmentIdx].props.url,type:"video/mp4"}})]),t.cardHover?a("span",{staticClass:"icon-sm icon-edit",on:{click:function(e){return e.stopPropagation(),t.toggleQuickEdit.apply(null,arguments)}}}):t._e(),t.isQuickEdit?t._e():a("span",{staticClass:"card-preview-full-image-title video-card"},[t._v(t._s(t.card.title))]),t.isQuickEdit?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.cardTitle,expression:"cardTitle"}],ref:"cardtitle",domProps:{value:t.cardTitle},on:{click:function(t){t.stopPropagation()},input:function(e){e.target.composing||(t.cardTitle=e.target.value)}}}):t._e()]):t.card.attachments&&t.card.attachments.length&&"audio"===t.card.attachments[0].props.type?a("section",{staticClass:"card-preview-full-image",on:{mouseenter:t.toggleHover,mouseleave:t.toggleHover}},[a("audio",{attrs:{controls:""}},[a("source",{attrs:{src:t.card.attachments[0].props.url}})]),t.cardHover?a("span",{staticClass:"icon-sm icon-edit",on:{click:function(e){return e.stopPropagation(),t.toggleQuickEdit.apply(null,arguments)}}}):t._e(),t.isQuickEdit?t._e():a("span",{staticClass:"card-preview-full-image-title audio-card"},[t._v(t._s(t.card.title))]),t.isQuickEdit?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.cardTitle,expression:"cardTitle"}],ref:"cardtitle",domProps:{value:t.cardTitle},on:{click:function(t){t.stopPropagation()},input:function(e){e.target.composing||(t.cardTitle=e.target.value)}}}):t._e()]):t._e()]:a("section",{staticClass:"card-preview",on:{mouseenter:t.toggleHover,mouseleave:t.toggleHover}},[t.card.cover&&t.card.cover.isCover&&("attachment"===t.card.cover.type||"url"===t.card.cover.type)&&"top"===t.card.cover.layout?[a("div",{staticClass:"card-cover",style:t.background})]:t.card.cover&&t.card.cover.isCover&&"color"===t.card.cover.type&&"top"===t.card.cover.layout?[a("div",{staticClass:"card-cover color",style:t.background})]:t._e(),t.card.labelIds?a("div",{staticClass:"preview-labels-container",on:{click:function(e){return e.stopPropagation(),t.toggleLabels.apply(null,arguments)}}},t._l(t.labelsForDisplay,(function(e){return a("div",{key:e.id,staticClass:"label",class:{shown:t.openLabels},style:{backgroundColor:e.color}},[a("transition",{attrs:{name:"fade"}},[t.showLabels?a("span",[t._v(t._s(e.title))]):t._e()])],1)})),0):t._e(),t.cardHover?a("span",{staticClass:"icon-sm icon-edit",on:{click:function(e){return e.stopPropagation(),t.toggleQuickEdit.apply(null,arguments)}}}):t._e(),t.isQuickEdit?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.cardTitle,expression:"cardTitle"}],ref:"cardtitle",attrs:{spellcheck:"false"},domProps:{value:t.cardTitle},on:{click:function(t){t.stopPropagation()},input:function(e){e.target.composing||(t.cardTitle=e.target.value)}}}):a("span",[t._v(t._s(t.card.title))]),a("div",{staticClass:"preview-indicators-container"},[a("div",{staticClass:"preview-inner-container"},[t.card.checklists&&t.card.checklists.length?a("div",{staticClass:"preview-checklist-container"},[a("span",{staticClass:"icon-sm icon-checklist"}),a("span",{staticClass:"checklist-indicator"},[t._v(t._s(t.checklistToShow))])]):t._e(),t.card.dueDate&&t.card.dueDate.length?a("div",{staticClass:"preview-date-container",style:t.isSoon,on:{mouseover:function(e){t.isHover=!0},mouseout:function(e){t.isHover=!1},click:function(e){return e.stopPropagation(),t.toggleCompleted.apply(null,arguments)}}},[t.isHover?t.card.isCompleted?a("span",{staticClass:"icon-sm icon-checklist"}):a("span",{staticClass:"icon-sm icon-checkbox"}):a("span",{staticClass:"icon-sm icon-date"}),t._v(" "+t._s(t.card.dueDate.slice(5))+" ")]):t._e(),t.card.attachments&&t.card.attachments.length?a("div",{staticClass:"preview-attach-container"},[a("span",{staticClass:"icon-sm icon-attach"}),a("span",{staticClass:"attach-indicator"},[t._v(t._s(t.card.attachments.length))])]):t._e(),t.card.description?a("div",{staticClass:"preview-desc-container"},[a("span",{staticClass:"icon-sm icon-desc"})]):t._e()]),t.card.members?a("transition-group",{staticClass:"preview-members-container",attrs:{name:"list-complete"}},t._l(t.card.members,(function(t){return a("avatar",{key:t._id,staticClass:"member-name list-complete-item",style:{margin:"2px"},attrs:{username:t.fullname,size:28,inline:!0,backgroundColor:"#dfe1e6",color:"#172b4d"}})})),1):t._e()],1),t.card.attachments&&t.card.attachments.length&&"audio"===t.card.attachments[0].props.type?a("audio",{attrs:{controls:""}},[a("source",{attrs:{src:t.card.attachments[0].props.url}})]):t._e()],2),t.isQuickEdit?a("quick-edit",{ref:"quickedit",attrs:{card:t.card,group:t.group},on:{emitCard:t.emitCard,openCard:t.openCard,removeCard:t.removeCard,updateMentions:t.updateMentions,toggleAttach:t.openCard,createLabel:t.createLabel,removeLabel:t.removeLabel}}):t._e()],2),t.isQuickEdit?a("button",{ref:"quickeditsave",staticClass:"quick-edit-btn",on:{click:function(e){return e.stopPropagation(),t.onEndQuickEdit.apply(null,arguments)}}},[t._v(" Save ")]):t._e()])},Ms=[],js=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"quick-edit",on:{click:function(t){t.stopPropagation()}}},[a("div",{staticClass:"quick-edit-sidebar"},[a("div",{staticClass:"quick-sidebar-btn",on:{click:t.openCard}},[a("span",{staticClass:"icon-sm icon-card"}),a("p",{staticClass:"sidebar-btn-title"},[t._v("Open card")])]),a("div",{staticClass:"quick-sidebar-btn",on:{click:t.toggleMember}},[a("span",{staticClass:"icon-sm icon-member"}),a("p",{staticClass:"sidebar-btn-title"},[t._v("Change members")]),t.isAddingMember?a("members-list",{ref:"membermodal",attrs:{boardMembers:t.board.members,cardMembers:t.card.members},on:{close:t.closePopups,updateMembers:t.updateMembers,updateMentions:t.updateMentions}}):t._e()],1),a("div",{staticClass:"quick-sidebar-btn",on:{click:t.toggleLabel}},[a("span",{staticClass:"icon-sm icon-label"}),a("p",{staticClass:"sidebar-btn-title"},[t._v("Edit labels")]),t.isAddingLabel?a("labels-list",{ref:"labelmodal",attrs:{optionsLabels:t.board.labels,cardLabels:t.card.labelIds},on:{updateLabels:t.updateLabels,closePopups:t.closePopups,toggleCreateLabel:t.toggleCreateLabel,editLabel:t.setLabelToEdit}}):t._e(),t.isCreateLabel?a("create-labels",{attrs:{label:t.labelToEdit},on:{close:t.closePopups,createLabel:t.createLabel,removeLabel:t.removeLabel,back:t.toggleCreateLabel}}):t._e()],1),a("el-date-picker",{attrs:{placeholder:"Edit dates",type:"date",format:"yyyy/MM/dd","value-format":"yyyy-MM-dd"},on:{change:t.updateDate},model:{value:t.cardDate,callback:function(e){t.cardDate=e},expression:"cardDate"}},[a("span",{staticClass:"icon-sm icon-date"})]),a("div",{staticClass:"quick-sidebar-btn",on:{click:t.toggleCover}},[a("span",{staticClass:"icon-sm icon-cover"}),a("p",{staticClass:"sidebar-btn-title"},[t._v("Cover")])]),t.isAddingCover?a("cover-cmp",{ref:"covermodal",attrs:{card:t.cardToEdit},on:{close:t.closePopups,updateCard:t.emitCard,toggleAttch:t.toggleAttch}}):t._e(),a("div",{staticClass:"quick-sidebar-btn delete",on:{click:t.removeCard}},[a("span",{staticClass:"icon-sm icon-minus"}),a("p",{staticClass:"sidebar-btn-title"},[t._v("Delete")])])],1)])},Bs=[],Is={props:{card:Object,group:Object},components:{membersList:Ca,labelsList:Qe,coverCmp:Ts,createLabels:ea},data:function(){return{cardToEdit:null,isAddingLabel:!1,isAddingMember:!1,isAddingAttachment:!1,isAddingCover:!1,isCreateLabel:!1,labelToEdit:null,cardDate:""}},computed:{board:function(){return this.$store.getters.board}},methods:{setLabelToEdit:function(t){this.labelToEdit=t,this.toggleCreateLabel()},createLabel:function(t){this.labelToEdit=null,this.$emit("createLabel",t),this.toggleCreateLabel()},removeLabel:function(t){this.labelToEdit=null,this.toggleCreateLabel(),this.$emit("removeLabel",t)},closePopups:function(){this.isAddingLabel=!1,this.isAddingMember=!1,this.isAddingAttachment=!1,this.isAddingCover=!1,this.isCreateLabel=!1},toggleCreateLabel:function(){this.isAddingLabel=this.isCreateLabel,this.isCreateLabel=!this.isCreateLabel},toggleLabel:function(){var t=this;this.isAddingLabel||this.closePopups(),this.isAddingLabel=!this.isAddingLabel,this.isAddingLabel&&this.$nextTick((function(){var e=t.$refs.labelmodal.$el.getBoundingClientRect();window.innerWidth-e.left<305&&(t.$refs.labelmodal.$el.style.right=0,t.$refs.labelmodal.$el.style.left="unset"),window.innerHeight-e.top<e.height&&(t.$refs.labelmodal.$el.style.top=-e.height+"px")}))},toggleMember:function(){var t=this;this.isAddingMember||this.closePopups(),this.isAddingMember=!this.isAddingMember,this.isAddingMember&&this.$nextTick((function(){var e=t.$refs.membermodal.$el.getBoundingClientRect();window.innerWidth-e.left<305&&(t.$refs.membermodal.$el.style.right=0,t.$refs.membermodal.$el.style.left="unset"),window.innerHeight-e.top<e.height&&(t.$refs.membermodal.$el.style.top=-e.height+"px")}))},toggleAttch:function(){this.$emit("toggleAttach")},toggleCover:function(t){var e=this;this.isAddingCover||this.closePopups(),this.isAddingCover=!this.isAddingCover,this.isAddingCover&&this.$nextTick((function(){var a=e.$refs.covermodal.$el.getBoundingClientRect();window.innerWidth-a.left<305&&(e.$refs.covermodal.$el.style.right=0,e.$refs.covermodal.$el.style.left="unset"),window.innerHeight-a.top<585&&(e.$refs.covermodal.$el.style.top=-(t.target.getBoundingClientRect().top-565+38)+"px")}))},updateDate:function(){this.cardToEdit.dueDate=this.cardDate;var t=" changed the due date to ".concat(this.cardDate," ");this.emitCard(t)},updateTitle:function(){this.emitCard()},updateMembers:function(t){var e=t.members,a=t.activityTxt;this.cardToEdit.members=e,this.emitCard(a)},updateLabels:function(t){this.cardToEdit.labelIds=t,this.emitCard()},updateMentions:function(t){this.$emit("updateMentions",t)},openCard:function(){this.$emit("openCard")},emitCard:function(t){var e=JSON.parse(JSON.stringify(this.cardToEdit));this.$emit("emitCard",{updatedCard:e,activityTxt:t})},removeCard:function(){this.$emit("removeCard",this.cardToEdit.id)}},created:function(){this.cardToEdit=JSON.parse(JSON.stringify(this.card))}},Os=Is,Ds=Object(g["a"])(Os,js,Bs,!1,null,null,null),Ps=Ds.exports,Rs={name:"cardPreview",components:{avatar:I.a,quickEdit:Ps},data:function(){return{openLabels:!1,showLabels:!1,cardHover:!1,isQuickEdit:!1,cardTitle:this.card.title,isHover:!1}},props:{card:Object,group:Object},computed:{background:function(){return!!this.card.cover.isCover&&("attachment"===this.card.cover.type?"image"===this.card.attachments[this.card.cover.attachmentIdx].props.type?"background-color: rgb(".concat(this.card.attachments[this.card.cover.attachmentIdx].props.colorArray[0],",").concat(this.card.attachments[this.card.cover.attachmentIdx].props.colorArray[1],",").concat(this.card.attachments[this.card.cover.attachmentIdx].props.colorArray[2],"); background-image: url('").concat(this.card.attachments[this.card.cover.attachmentIdx].url,"'); height: 245px"):"top"===this.card.cover.layout?"background-image: url(".concat(this.card.attachments[this.card.cover.attachmentIdx].props.thumbnail,"); background-color: ").concat(this.card.attachments[this.card.cover.attachmentIdx].props.colorArray.rgb,"; height: 245px"):"height: 245px":"color"===this.card.cover.type?"background-color: ".concat(this.card.cover.color,"; height: ").concat("full"===this.card.cover.layout?this.card.attachments&&this.card.attachments.length&&"audio"===this.card.attachments[0].props.type?"80px":"56px":"32px"):"background-color: rgb(".concat(this.card.cover.photo.colorArray[0],",").concat(this.card.cover.photo.colorArray[1],",").concat(this.card.cover.photo.colorArray[2],");background-image: url('").concat(this.card.cover.photo.url,"');min-height: 245px"))},labelsForDisplay:function(){var t=this,e=this.$store.getters.board.labels;return e.filter((function(e){if(t.card.labelIds.includes(e.id))return e}))},checklistToShow:function(){var t=0,e=0;return this.card.checklists.forEach((function(a){a.todos.forEach((function(a){t++,a.isDone&&e++}))})),"".concat(e,"/").concat(t)},isSoon:function(){if(this.card.isCompleted)return{backgroundColor:"#61BD4F",color:"white"};var t=Date.parse(new Date),e=Date.parse(this.card.dueDate),a=e-t;return a<0?{backgroundColor:"#eb5a46",color:"white"}:a<864e5?{backgroundColor:"#F2D600",color:"#172B4D"}:{backgroundColor:"rgba(9, 30, 66, 0.08)",color:"#5e6c84"}}},methods:{removeCard:function(t){this.toggleQuickEdit(),this.$emit("removeCard",t)},openCard:function(){this.toggleQuickEdit(),this.$emit("openCard",this.card)},toggleCompleted:function(){var t=JSON.parse(JSON.stringify(this.card));t.isCompleted=!t.isCompleted;var e=t.isCompleted?" marked completed ":" marked incomplete ";this.emitCard({updatedCard:t,activityTxt:e})},toggleHover:function(){this.cardHover=!this.cardHover},toggleQuickEdit:function(t){var e=this;this.$emit("openBg"),this.isQuickEdit=!this.isQuickEdit,this.isQuickEdit&&this.$nextTick((function(){e.$refs.cardtitle.select();var a=t.target.getBoundingClientRect();window.innerHeight-a.y<210&&(a.y=window.innerHeight-210),window.innerWidth-a.x<200&&(a.x=window.innerWidth-(window.innerWidth-a.x+474-38),e.$refs.quickedit.$el.children[0].classList.add("invert"),document.querySelector(".el-date-editor").classList.add("invert")),e.$refs.quickedit.$el.style.top="".concat(a.y-6,"px"),e.$refs.quickedit.$el.style.left="".concat(a.x+20,"px"),a=e.$refs.cardpreview.getBoundingClientRect(),e.$refs.quickeditsave.style.top="".concat(a.bottom,"px"),e.$refs.quickeditsave.style.left="".concat(a.left,"px")}))},closeQuickEdit:function(){this.isQuickEdit=!1},toggleLabels:function(){var t=this;this.openLabels=!this.openLabels,this.showLabels?this.showLabels=!this.showLabels:setTimeout((function(){t.showLabels=!t.showLabels}),500)},onEndQuickEdit:function(){if(this.cardTitle){var t=JSON.parse(JSON.stringify(this.card));t.title=this.cardTitle;var e=" changed the title to ".concat(t.title," ");this.emitCard({updatedCard:t,activityTxt:e}),this.toggleQuickEdit()}else this.$refs.cardtitle.focus()},emitCard:function(t){var e=this,a=t.updatedCard,s=t.activityTxt,i=JSON.parse(JSON.stringify(a)),r={};s&&(r.byMember=this.$store.getters.loggedInUser,r.cTitle=this.card.title,r.cId=this.card.id,r.gId=this.group.id,r.txt=s,r.isSpecific=!0),this.$emit("updateCard",{updatedCard:i,activity:r}),this.$nextTick((function(){var t=e.$refs.cardpreview.getBoundingClientRect();e.$refs.quickeditsave.style.top="".concat(t.bottom,"px"),e.$refs.quickeditsave.style.left="".concat(t.left,"px")}))},createLabel:function(t){this.$emit("createLabel",t)},removeLabel:function(t){this.$emit("removeLabel",t)},updateMentions:function(t){t.byMember=this.$store.getters.loggedInUser.fullname,t.cId=this.card.id,t.gId=this.group.id,t.dueDate=this.card.dueDate,t.createdAt=Date.now(),t.userId===this.$store.getters.loggedInUser._id?t.isRead=!0:t.isRead=!1,this.$emit("updateMentions",t)}},directives:{ClickOutside:D.a},mounted:function(){this.popupItem=this.$el}},Us=Rs,Ns=Object(g["a"])(Us,Ss,Ms,!1,null,null,null),Fs=Ns.exports,Hs=a("b76a"),Js=a.n(Hs),zs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"file-upload-cmp video"},[a("span",{staticClass:"icon-sm icon-x",on:{click:t.close}}),a("header",[t._v("Upload your video...")]),a("video",{staticClass:"video-js vjs-default-skin",attrs:{id:"myVideo",playsinline:""}}),t.isFinished?a("el-button",{attrs:{type:"primary"},on:{click:function(e){return e.stopPropagation(),t.saveVideo.apply(null,arguments)}}},[t._v(" Save Video ")]):t._e(),t.isUploading?[t._m(0)]:t._e()],2)},Gs=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"uploading video-card"},[s("img",{staticClass:"spinner small",attrs:{src:a("5e4c")}}),s("span",[t._v("Uploading…")])])}],Vs=(a("2b3d"),a("fda2"),a("d52a"),a("3966")),qs=a.n(Vs),Ws=a("a9ee"),Qs=a.n(Ws),Ys=a("f0e2"),Zs=(a("d093"),a("708e")),Ks={data:function(){return{player:null,options:{controls:!0,bigPlayButton:!1,width:500,height:375,fluid:!1,plugins:{record:{audio:!0,video:!0,maxLength:10,debug:!1}}},isFinished:!1,isUploading:!1}},mounted:function(){var t=this;this.player=Object(Ys["default"])("myVideo",this.options,(function(){Ys["default"].getPluginVersion(qs.a),Qs.a.version})),this.player.on("deviceError",(function(){console.log("device error:",t.player.deviceErrorCode)})),this.player.on("error",(function(t){console.error(t)})),this.player.on("startRecord",(function(){t.isFinished=!1})),this.player.on("finishRecord",(function(){t.isFinished=!0}))},methods:{saveVideo:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s,i,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isUploading=!0,a={url:URL.createObjectURL(t.player.recordedData),type:"video"},e.next=4,Object(cs["a"])(a);case 4:return s=e.sent,i=new Zs["a"](t.player.recordedData),e.next=8,i.getThumbnails({interval:1,start:0,end:0,quality:.8});case 8:return s.thumbnail=e.sent,r=new FileReader,r.readAsDataURL(s.thumbnail[0].blob),e.next=13,new Promise((function(t){r.onload=function(){t(r.result)}}));case 13:s.thumbnail=e.sent,o=new x["a"],s.color=o.getColor(i.videoElement),t.$emit("videoRecord",s);case 17:case"end":return e.stop()}}),e)})))()},close:function(){this.$emit("toggleVideoRecord")}},beforeDestroy:function(){this.player.dispose()}},Xs=Ks,ti=Object(g["a"])(Xs,zs,Gs,!1,null,null,null),ei=ti.exports,ai=a("e774"),si={props:{groups:Array,bgImage:Object},directives:{clickOutside:D.a},data:function(){return{isAddingGroup:!1,isAddingCard:!1,groupsToEdit:null,groupToEdit:{id:w.makeId(),title:"",createdAt:Date.now(),cards:[]},currCard:null,currGroupIdx:null,isExtrasShowing:!1,cardToEdit:{id:w.makeId(),title:"",createdAt:Date.now(),attachments:[],cover:{isCover:!1,type:"",color:"",attachmentIdx:null,photo:{url:"",colorArray:[]},layout:""}},isScrolling:!1,isRecordingVideo:!1,isRecordingAudio:!1}},components:{cardPreview:Fs,cardDetails:Ls,draggable:Js.a,videoRecord:ei,audioRecord:function(){return a.e("chunk-59a80db7").then(a.bind(null,"054c"))}},computed:{height:function(){return this.getTextHeight()},audioRecord:function(){return this.isRecordingAudio?"audioRecord":""}},methods:{startDragCard:function(t){return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=document.querySelector(".card-preview-container.chosen"),a.classList.remove("drag"),a.classList.remove("chosen"),t.setDragImage(document.createElement("div"),0,0),e.prev=4,e.next=7,Object(ai["a"])(a);case 7:s=e.sent,i=new Image,i.src=s,document.body.appendChild(i),i.classList.add("cloned"),document.body.addEventListener("drag",(function(t){i.style.left="".concat(t.x-30,"px"),i.style.top="".concat(t.y-30,"px")})),e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](4),console.error("oops, something went wrong with rendering the element.",e.t0);case 18:case"end":return e.stop()}}),e,null,[[4,15]])})))()},startDragGroup:function(t){return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=document.querySelector(".group-wrapper.chosen"),a.classList.remove("drag"),a.classList.remove("chosen"),t.setDragImage(document.createElement("div"),0,0),e.prev=4,e.next=7,Object(ai["a"])(a);case 7:s=e.sent,i=new Image,i.src=s,document.body.appendChild(i),i.classList.add("cloned"),document.body.addEventListener("drag",(function(t){i.style.left="".concat(t.x-30,"px"),i.style.top="".concat(t.y-30,"px")})),e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](4),console.error("oops, something went wrong with rendering the element.",e.t0);case 18:case"end":return e.stop()}}),e,null,[[4,15]])})))()},endDrag:function(){var t=document.querySelector(".cloned");document.body.removeChild(t),document.body.removeEventListener("drag",(function(){}))},createLabel:function(t){this.$emit("createLabel",t)},removeLabel:function(t){this.$emit("removeLabel",t)},closeCardEdit:function(t){this.isAddingCard=!1,this.$refs["card-preview-wrapper-".concat(t)][0].classList.remove("is-editing"),this.cardToEdit.title=""},saveCard:function(t,e){if(this.cardToEdit.title){var a=Object(Be["a"])({},this.cardToEdit);a.id=w.makeId(),this.groupsToEdit[t].cards.push(a);var s={gId:this.groupsToEdit[t].id,cTitle:a.title,txt:' added card "'.concat(a.title,'" to list "').concat(this.groupsToEdit[t].title,'" '),byMember:this.$store.getters.loggedInUser,isSpecific:!1};this.saveGroups(s),this.cardToEdit.title="",this.cardToEdit.attachments=[],e||this.$refs["content-".concat(t)][0].focus()}else this.$refs["content-".concat(t)][0].focus()},toggleCardEdit:function(t){var e=this;this.isExtrasShowing=!1,this.$refs["card-preview-wrapper-".concat(t)][0].classList.toggle("is-editing"),this.isAddingCard&&t!==this.currGroupIdx?this.currGroupIdx=t:(this.currGroupIdx=t,this.isAddingCard=!this.isAddingCard),this.isAddingCard?this.$nextTick((function(){return e.$refs["content-".concat(t)][0].focus()})):this.cardToEdit.title&&this.saveCard(t)},toggleExtras:function(t){this.isAddingCard=!1,this.isExtrasShowing&&t!==this.currGroupIdx?this.currGroupIdx=t:(this.currGroupIdx=t,this.isExtrasShowing=!this.isExtrasShowing)},openBg:function(){this.$emit("openBg")},openCard:function(t,e,a){this.setCard(t,e,a)},setCard:function(t,e,a){t.cover||this.$set(t,"cover",{isCover:!1,type:"",color:"",attachmentIdx:null,photo:{url:"",colorArray:[]},layout:""}),this.currCard=t,this.currGroupIdx=e,this.$refs["cardpreview-".concat(e,"-").concat(a)][0].isQuickEdit=!1,this.$parent.bgOpen=!1},clearCard:function(){this.currCard=null,this.currGroupIdx=null},removeCard:function(t,e){var a=this.groupsToEdit[e].cards.findIndex((function(e){return e.id===t})),s={gId:this.groupsToEdit[e].id,cTitle:this.groupsToEdit[e].cards[a].title,txt:' removed card "'.concat(this.groupsToEdit[e].cards[a].title,'" from list "').concat(this.groupsToEdit[e].title,'" '),byMember:this.$store.getters.loggedInUser,isSpecific:!1};this.groupsToEdit[e].cards.splice(a,1),this.clearCard(),this.saveGroups(s)},updateCard:function(t,e){var a=t.updatedCard,s=t.activity,i=this.groupsToEdit[e].cards.findIndex((function(t){return t.id===a.id}));this.groupsToEdit[e].cards.splice(i,1,a),dt.emit("send card",{payload:a,cIdx:i,gIdx:e}),this.saveGroups(s)},updateMentions:function(t){this.$emit("updateMentions",t)},saveGroups:function(t){this.$emit("boardUpdate",{type:"groups",payload:this.groupsToEdit,activities:t}),dt.emit("send groups",this.groupsToEdit)},saveGroup:function(){var t=Object(Be["a"])({},this.groupToEdit);t.id=w.makeId(),this.groupsToEdit.push(t);var e={gId:t.id,gTitle:t.title,txt:' added list "'.concat(t.title,'" to this board '),byMember:this.$store.getters.loggedInUser,isSpecific:!1};this.saveGroups(e),this.groupToEdit.title=""},deleteGroup:function(t){var e={gTitle:this.groupsToEdit[t].title,txt:' removed list "'.concat(this.groupsToEdit[t].title,'" from this board '),byMember:this.$store.getters.loggedInUser,isSpecific:!1};this.groupsToEdit.splice(t,1),this.currGroupIdx=null,this.isExtrasShowing=!1,this.saveGroups(e)},toggleGroupEdit:function(){var t=this;this.isAddingGroup=!this.isAddingGroup,this.isAddingGroup?this.$nextTick((function(){t.$refs.newgroupcontent.focus()})):this.groupToEdit.title&&this.saveGroup()},closeGroupEdit:function(){this.isAddingGroup=!1,this.groupToEdit.title=""},textHeight:function(t,e){var a=document.createElement("div");a.style.font="Segoe UI",a.style.fontSize="14px",a.style.height="auto",a.style.width="228px",a.style.position="absolute",a.style.whiteSpace="no-wrap",a.style.lineBreak="anywhere",a.style.paddingBlock="2px",a.style.paddingInline="8px",a.style.lineHeight="20px",a.innerHTML=t?t.target.value:this.$refs.grouptitle[e].value,document.body.appendChild(a);var s=Math.ceil(a.clientHeight),i=s+"px";document.body.removeChild(a),t?t.target.style.height=i:this.$refs.grouptitle[e].style.height=i},dragList:function(t){this.isScrolling&&1===t.buttons&&(document.body.style.userSelect="none",document.querySelector(".group-list").scrollBy({top:0,left:t.movementX?-t.movementX:t.movementX}))},setPageScroll:function(t){"group-list"===t.target.className&&(this.isScrolling=!0)},unsetPageScroll:function(){this.isScrolling=!1,document.body.style.userSelect="unset"},toggleVideoRecord:function(t){this.currGroupIdx=t,this.isRecordingVideo=!this.isRecordingVideo},toggleAudioRecord:function(t){this.currGroupIdx=t,this.isRecordingAudio=!this.isRecordingAudio},addVideoCard:function(t){this.isRecordingVideo=!1;var e={id:w.makeId(),createdAt:Date.now(),isCover:!0,filename:"".concat(t.public_id,".").concat(t.format),props:{width:t.width,height:t.height,format:t.format,size:t.bytes,url:t.secure_url,type:"video",colorArray:t.color,thumbnail:t.thumbnail}};this.cardToEdit.attachments.push(JSON.parse(JSON.stringify(e))),this.cardToEdit.title="Video Card",this.cardToEdit.cover.isCover=!0,this.cardToEdit.cover.type="attachment",this.cardToEdit.cover.layout="full",this.cardToEdit.cover.attachmentIdx=0,this.saveCard(this.currGroupIdx,"video"),this.cardToEdit={id:w.makeId(),title:"",createdAt:Date.now(),attachments:[],cover:{isCover:!1,type:"",color:"",attachmentIdx:null,photo:{url:"",colorArray:[]},layout:""}}},addAudioCard:function(t){console.log(t),this.isRecordingAudio=!1;var e={id:w.makeId(),createdAt:Date.now(),isCover:!1,filename:"Audio file",props:{format:t.format,size:t.bytes,url:t.secure_url,type:"audio"}};this.cardToEdit.attachments.push(JSON.parse(JSON.stringify(e))),this.cardToEdit.title="Audio Card",this.cardToEdit.cover.isCover=!1,this.cardToEdit.cover.type="attachment",this.cardToEdit.cover.layout="top",this.cardToEdit.cover.attachmentIdx=0,this.saveCard(this.currGroupIdx,"audio"),this.cardToEdit={id:w.makeId(),title:"",createdAt:Date.now(),attachments:[],cover:{isCover:!1,type:"",color:"",attachmentIdx:null,photo:{url:"",colorArray:[]},layout:""}}}},created:function(){this.groupsToEdit=JSON.parse(JSON.stringify(this.groups))},mounted:function(){var t=this;this.popupItem=this.$refs.addgroup,this.$refs.grouptitle.forEach((function(e,a){t.$refs.grouptitle[a].style.height=t.textHeight(null,a)})),document.addEventListener("mouseleave",(function(){t.isScrolling=!1,document.body.style.userSelect="unset"}))},destroyed:function(){var t=this;document.removeEventListener("mouseleave",(function(){t.isScrolling=!1,document.body.style.userSelect="unset"}))},watch:{groups:{immediate:!0,handler:function(){this.groupsToEdit=JSON.parse(JSON.stringify(this.groups))}}}},ii=si,ri=Object(g["a"])(ii,Me,je,!1,null,null,null),oi=ri.exports,ni=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"board-dashboard"},[a("h2",[t._v(t._s(t.board.title)+" Dashboard")]),a("div",{staticClass:"board-indicators"},[a("div",{staticClass:"indicator"},[t._m(0),a("div",{staticClass:"indicator-info"},[a("h4",[t._v("MEMBERS")]),a("h3",[t._v(t._s(t.members))])])]),a("div",{staticClass:"indicator"},[t._m(1),a("div",{staticClass:"indicator-info"},[a("h4",[t._v("TOTAL TASKS")]),a("h3",[t._v(t._s(t.tasks.tasksCounter))])])]),a("div",{staticClass:"indicator"},[t._m(2),a("div",{staticClass:"indicator-info"},[a("h4",[t._v("COMPLETED TASKS")]),a("h3",[t._v(t._s(t.tasks.completedCounter))])])]),a("div",{staticClass:"indicator"},[t._m(3),a("div",{staticClass:"indicator-info"},[a("h4",[t._v("INCOMPLETE TASKS")]),a("h3",[t._v(t._s(t.tasks.incompleteCounter))])])])]),a("div",{staticClass:"dashboard-container"},[a("div",{staticClass:"charts-container"},[a("section",{staticClass:"chart-container",staticStyle:{position:"relative","min-width":"200px",width:"25vw"}},[a("h4",[t._v("Card Per List")]),a("cards-chart",{staticClass:"chart",attrs:{board:t.board}})],1),a("section",{staticClass:"chart-container",staticStyle:{position:"relative","min-width":"200px",width:"25vw"}},[a("h4",[t._v("Cards Per Member")]),a("members-chart",{staticClass:"chart",attrs:{board:t.board}})],1)])])])},ci=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"indic-icon-container members"},[a("span",{staticClass:"icon-lg icon-remove-members"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"indic-icon-container tasks"},[a("span",{staticClass:"icon-lg icon-activity"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"indic-icon-container completed-icon"},[a("span",{staticClass:"icon-lg icon-v"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"indic-icon-container incomplete"},[a("span",{staticClass:"icon-lg icon-x"})])}],li=a("1fca"),di={extends:li["a"],props:{board:Object},mounted:function(){this.renderChart({labels:this.members,datasets:[{label:"Cards per member",backgroundColor:["#E5E8E8","#FADBD8","#E8DAEF","#D5F5E3","#D5D8DC","#F2F3F4","#D6EAF8","#D0ECE7","#FDEBD0","#F6DDCC"],data:this.cardPerMember,barPercentage:.7,borderWidth:2}]},{scales:{yAxes:[{ticks:{beginAtZero:!0}}]},responsive:!0,legend:{display:!1}})},computed:{members:function(){if(!this.board.members)return[];var t=this.board.members.map((function(t){return t.fullname}));return t},cardPerMember:function(){var t=this;return this.members.map((function(e){var a=0;return t.board.groups?(t.board.groups.forEach((function(t){t.cards&&t.cards.forEach((function(t){if(t.members){var s=t.members.some((function(t){return t.fullname===e}));s&&a++}}))})),a):a}))}}},ui=di,pi=Object(g["a"])(ui,Jt,zt,!1,null,null,null),hi=pi.exports,mi={extends:li["a"],props:{board:Object},mounted:function(){this.renderChart({labels:this.groups,datasets:[{label:"Cards per list",backgroundColor:["#FADBD8","#E8DAEF","#D6EAF8","#D0ECE7","#D5F5E3","#FDEBD0","#F6DDCC","#F2F3F4","#E5E8E8","#D5D8DC"],data:this.cards,barPercentage:.7,borderWidth:2}]},{scales:{yAxes:[{ticks:{beginAtZero:!0}}]},responsive:!0,legend:{display:!1}})},computed:{groups:function(){return this.board.groups?this.board.groups.map((function(t){return t.title})):[]},cards:function(){return this.board.groups?this.board.groups.map((function(t){return t.cards.length})):[]}}},gi=mi,bi=Object(g["a"])(gi,Gt,Vt,!1,null,null,null),fi=bi.exports,vi={props:{board:Object},components:{membersChart:hi,cardsChart:fi},computed:{members:function(){return this.board.members.length},tasks:function(){var t=0,e=0,a=0;return this.board.groups?(this.board.groups.forEach((function(s){s.cards&&(t+=s.cards.length,s.cards.forEach((function(t){t.isCompleted?e++:a++})))})),{tasksCounter:t,completedCounter:e,incompleteCounter:a}):{tasksCounter:t,completedCounter:e,incompleteCounter:a}}}},Ci=vi,yi=Object(g["a"])(Ci,ni,ci,!1,null,null,null),ki=yi.exports,wi={data:function(){return{bgOpen:!1,showDashboard:!1}},computed:{board:function(){return this.$store.getters.board}},components:{boardHeader:Se,groupList:oi,boardDashboard:ki},methods:{addActivity:function(t){var e=JSON.parse(JSON.stringify(this.board)).activities;t.id=w.makeId(),t.createdAt=Date.now(),e.unshift(t),this.boardUpdate({type:"activities",payload:e})},createLabel:function(t){var e=JSON.parse(JSON.stringify(this.board)).labels,a=e.findIndex((function(e){return e.id===t.id}));-1===a?e.push(t):e.splice(a,1,t),this.boardUpdate({type:"labels",payload:e})},removeLabel:function(t){var e=JSON.parse(JSON.stringify(this.board)).labels,a=e.findIndex((function(e){return e.id===t}));e.splice(a,1),this.boardUpdate({type:"labels",payload:e})},updateMentions:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.bId=e.board._id,t.id=w.makeId(),a.prev=2,a.next=5,e.$store.dispatch({type:"getById",userId:t.userId});case 5:s=a.sent,s.mentions?s.mentions.unshift(t):s.mentions=[t],dt.emit("send mention",t),e.$store.dispatch({type:"updateUser",userToUpdate:s}),a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](2),console.log(a.t0);case 14:case"end":return a.stop()}}),a,null,[[2,11]])})))()},boardUpdate:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=JSON.parse(JSON.stringify(e.board)),s[t.type]=t.payload,t.activities&&t.activities.txt&&(t.activities.id=w.makeId(),t.activities.createdAt=Date.now(),s.activities.unshift(t.activities),dt.emit("send activities",s.activities)),a.prev=3,a.next=6,e.$store.dispatch({type:"saveBoard",board:s});case 6:a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](3),console.log("couldn't save board",a.t0);case 11:case"end":return a.stop()}}),a,null,[[3,8]])})))()},toggleDashboard:function(){this.showDashboard=!this.showDashboard,this.toggleBg()},toggleBg:function(){this.bgOpen&&(this.showDashboard=!1),this.bgOpen=!this.bgOpen,this.bgOpen?this.$refs.grouplist.$el.classList.add("bg-open"):this.$refs.grouplist.$el.classList.remove("bg-open")},updateCard:function(t){this.$store.commit({type:"cardChanged",card:t})},updateGroups:function(t){this.$store.commit({type:"groupsChanged",groups:t})},updateTitle:function(t){this.$store.commit({type:"titleChanged",title:t})},updateStyle:function(t){this.$store.commit({type:"styleChanged",style:t})},updateMembers:function(t){this.$store.commit({type:"membersChanged",members:t})},updateActivities:function(t){this.$store.commit({type:"activitiesChanged",activities:t})}},created:function(){dt.on("card updated",this.updateCard),dt.on("groups updated",this.updateGroups),dt.on("title updated",this.updateTitle),dt.on("style updated",this.updateStyle),dt.on("members updated",this.updateMembers),dt.on("activities updated",this.updateActivities)},destroyed:function(){dt.off("card updated",this.updateCard),dt.off("groups updated",this.updateGroups),dt.off("title updated",this.updateTitle),dt.off("style updated",this.updateStyle),dt.off("members updated",this.updateMembers),dt.off("activities updated",this.updateActivities)},watch:{"$route.params.boardId":{immediate:!0,handler:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.$route.params.boardId){e.next=12;break}return a=t.$route.params.boardId,dt.emit("board changed",a),e.prev=3,e.next=6,t.$store.dispatch({type:"loadBoards"});case 6:t.$store.commit("getBoardById",a),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](3),console.log("didnt find board",e.t0);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})))()}}}},_i=wi,xi=Object(g["a"])(_i,xt,Tt,!1,null,null,null),Ti=xi.exports,Ei=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"homepage-container"},[a("div",{staticClass:"homepage-1"},[a("h1",{staticClass:"homepage-logo",attrs:{"data-aos":"slide-down","data-aos-mirror":"true","data-aos-duration":"500"}},[t._v(" Trailing ")]),a("h1",{staticClass:"logo-quote",attrs:{"data-aos":"slide-down","data-aos-duration":"500"}},[t._v(" Work smart, work together. ")]),a("router-link",{staticClass:"boards-link",attrs:{"data-aos-duration":"500",to:"/boards","data-aos":"slide-up","data-aos-mirror":"true"}},[t._v("Get started")]),t._m(0)],1),t._m(1),t._m(2),t._m(3),a("div",{staticClass:"homepage-5"},[a("h1",{staticClass:"homepage-5-header"},[t._v("What are you waiting for?")]),a("router-link",{staticClass:"boards-link",attrs:{to:"/boards"}},[t._v("Get started")])],1),a("transition",{attrs:{name:"fade"}},[t.isScroll?a("button",{staticClass:"icon-lg icon-top",on:{click:t.scroll}}):t._e()])],1)},$i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",{staticClass:"motivational",attrs:{"data-aos":"fade-left","data-aos-mirror":"true","data-aos-duration":"500"}},[t._v(" “Either you run the day or the day runs you.” "),a("span",{staticClass:"motivational-author"},[t._v("— Jim Rohn")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"homepage-2"},[s("div",{staticClass:"homepage-2-img-container"},[s("img",{attrs:{src:a("b103")}})]),s("div",{staticClass:"homepage-2-content"},[s("h1",{staticClass:"homepage-2-header"},[t._v(" The right way to work - Work together. ")]),s("div",{staticClass:"txt-conatiner"},[s("img",{staticClass:"homepage-check",attrs:{src:a("8545"),alt:""}}),s("p",{staticClass:"homepage-2-txt"},[t._v("Arrange your work properly.")])]),s("div",{staticClass:"txt-conatiner"},[s("img",{staticClass:"homepage-check",attrs:{src:a("8545"),alt:""}}),s("p",{staticClass:"homepage-2-txt"},[t._v("Improve your work productivity.")])]),s("div",{staticClass:"txt-conatiner"},[s("img",{staticClass:"homepage-check",attrs:{src:a("8545"),alt:""}}),s("p",{staticClass:"homepage-2-txt"},[t._v("Set your goals.")])]),s("h1",{staticClass:"motivational"},[t._v(" “Great things in business are never done by one person, they’re done by a team of people.” "),s("span",{staticClass:"motivational-author"},[t._v("– Steve Jobs")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"homepage-3"},[s("div",{staticClass:"homepage-3-img-container"},[s("img",{attrs:{src:a("273f")}})]),s("div",{staticClass:"homepage-3-content"},[s("h1",{staticClass:"homepage-3-header"},[t._v("Quick and easy to use.")]),s("div",{staticClass:"txt-conatiner"},[s("img",{staticClass:"homepage-check",attrs:{src:a("8545")}}),s("p",{staticClass:"homepage-3-txt"},[t._v("Create a board, task and list easily.")])]),s("div",{staticClass:"txt-conatiner"},[s("img",{staticClass:"homepage-check",attrs:{src:a("8545")}}),s("p",{staticClass:"homepage-3-txt"},[t._v("Manage the team efficiently.")])]),s("div",{staticClass:"txt-conatiner"},[s("img",{staticClass:"homepage-check",attrs:{src:a("8545")}}),s("p",{staticClass:"homepage-3-txt"},[t._v("Conquer your goals.")])]),s("h1",{staticClass:"motivational"},[t._v(" “The individual who says it is not possible should move out of the way of those doing it.” "),s("span",{staticClass:"motivational-author"},[t._v("—Tricia Cunningham")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"homepage-4"},[s("div",{staticClass:"homepage-4-header"},[s("h1",[t._v(" Join over 1,000,000 teams worldwide that are using trailing to get more done. ")])]),s("div",{staticClass:"social-proof-container"},[s("div",{staticClass:"social-container"},[s("img",{staticClass:"employee-img",attrs:{src:a("1f5a")}}),s("img",{staticClass:"stars",attrs:{src:a("bf6f")}}),s("p",{staticClass:"review-txt"},[t._v(' "This app has made a huge difference in our work procedures." ')])]),s("div",{staticClass:"social-container"},[s("img",{staticClass:"employee-img",attrs:{src:a("773a")}}),s("img",{staticClass:"stars",attrs:{src:a("bf6f")}}),s("p",{staticClass:"review-txt"},[t._v(" \"After we started working with 'trailing' our efficiency has grown tremendously.\" ")])]),s("div",{staticClass:"social-container"},[s("img",{staticClass:"employee-img",attrs:{src:a("7043")}}),s("img",{staticClass:"stars",attrs:{src:a("bf6f")}}),s("p",{staticClass:"review-txt"},[t._v(' "I\'m able to manage my employees a lot more easily with this app. Thank you!" ')])]),s("div",{staticClass:"social-container"},[s("img",{staticClass:"employee-img",attrs:{src:a("83a9")}}),s("img",{staticClass:"stars",attrs:{src:a("bf6f")}}),s("p",{staticClass:"review-txt"},[t._v(" \"Since I started using 'trailing', I finish a lot more work in a lot less time.\" ")])])])])}],Ai={data:function(){return{isScroll:!1}},computed:{showBackTop:function(){return{btnTopShow:this.isScroll}}},created:function(){this.$store.commit("clearStyle"),addEventListener("scroll",this.handleScroll,!0)},destroyed:function(){window.pageYOffset=0,this.isScroll=!1},mounted:function(){},methods:{scroll:function(){var t=this;document.querySelector(".homepage-1").scrollIntoView(),setTimeout((function(){window.pageYOffset=0,t.isScroll=!1}),300)},handleScroll:function(){window.pageYOffset++,window.pageYOffset>30&&(this.isScroll=!0)}}},Li=Ai,Si=Object(g["a"])(Li,Ei,$i,!1,null,null,null),Mi=Si.exports,ji=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"boards-list-container"},[a("nav",{staticClass:"boards-list-menu"},[a("div",{staticClass:"btn-workspace-container",class:t.selectedBoards},[a("span",{staticClass:"icon-board icon-sm"}),a("a",{staticClass:"btn-workspace",on:{click:t.showBoards}},[t._v("Available workspaces")])]),a("div",{staticClass:"btn-template-container",class:t.selectedTemplates},[a("span",{staticClass:"icon-template icon-sm"}),a("a",{staticClass:"btn-template",class:t.selectedTemplates,on:{click:t.showTemplates}},[t._v("Available templates")])]),a("div",{staticClass:"btn-user-container",class:t.selectedDashboard},[a("span",{staticClass:"icon-user icon-sm"}),a("a",{staticClass:"btn-user",class:t.selectedDashboard,on:{click:t.showDashboard}},[t._v("User Dashboard")])])]),t.isBoards?a("div",{staticClass:"boards-lists"},[a("div",{staticClass:"boards-list-header"},[a("h3",{staticClass:"boards-list-header-name"},[t._v("AVAILABLE WORKSPACES")]),a("div",[t._m(0),a("h3",{staticClass:"boards-page-board-section-header-name"},[t._v(" "+t._s(t.loggedinUser)+"'s Workspaces ")])])]),a("div",{staticClass:"boards-list-lg"},t._l(t.boards,(function(e){return a("board-preview",{key:e._id,attrs:{display:"large",board:e},nativeOn:{click:function(a){return t.showBoard(e._id)}}})})),1)]):t._e(),t.isTemplates?a("boards-templates"):t._e(),t.isDashboard?a("user-dashboard",{attrs:{boards:t.boards,user:t.user}}):t._e()],1)},Bi=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"boards-page-board-section-header-icon"},[a("span",{staticClass:"icon-lg icon-organization"})])}],Ii=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"user-dashboard"},[a("div",{staticClass:"boards-list-header"},[a("h3",{staticClass:"boards-list-header-name"},[t._v("DASHBOARD")]),a("div",[t._m(0),a("h3",{staticClass:"boards-page-board-section-header-name"},[t._v(" "+t._s(t.user.fullname)+"'s Dashboard ")])])]),a("div",{staticClass:"charts-container"},[a("section",{staticClass:"chart-container",staticStyle:{position:"relative","min-width":"200px",width:"15vw"}},[a("h4",[t._v("Your cards per board")]),a("cards-chart",{attrs:{boards:t.boards,user:t.user}})],1),a("section",{staticClass:"chart-container",staticStyle:{position:"relative","min-width":"200px",width:"15vw"}},[a("h4",[t._v("Your activity in boards")]),a("activity-chart",{attrs:{boards:t.boards,user:t.user}})],1)])])},Oi=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"boards-page-board-section-header-icon"},[a("span",{staticClass:"icon-lg icon-organization"})])}],Di={extends:li["a"],props:{boards:Array,user:Object},mounted:function(){this.renderChart({labels:this.boardsTitles,datasets:[{backgroundColor:["#0079bf","#00c2e0","#51e898","#ff78cb","#344563","#61bd4f","#f2d600","#ff9f1a","#eb5a46","#c377e0"],data:this.cardsPerBoard,borderRadius:100,borderWidth:3,barPercentage:.5}]},{scales:{yAxes:[{ticks:{beginAtZero:!0}}]},responsive:!0,legend:{display:!1}})},computed:{boardsTitles:function(){var t=this;return this.$store.getters.boards.filter((function(e){return e.members.some((function(e){return e._id===t.user._id}))})).map((function(t){return t.title}))},cardsPerBoard:function(){var t=this;return this.boards.filter((function(e){return e.members.some((function(e){return e._id===t.user._id}))})).map((function(e){var a=0;return e.groups.forEach((function(e){e.cards.forEach((function(e){e.members&&e.members.some((function(e){return e._id===t.user._id}))&&a++}))})),a}))}}},Pi=Di,Ri=Object(g["a"])(Pi,qt,Wt,!1,null,null,null),Ui=Ri.exports,Ni={extends:li["b"],props:{boards:Array,user:Object},mounted:function(){this.renderChart({labels:this.boardsTitles,datasets:[{backgroundColor:["#0079bf","#00c2e0","#51e898","#ff78cb","#344563","#61bd4f","#f2d600","#ff9f1a","#eb5a46","#c377e0"],data:this.activitiesPerBoard}]},{responsive:!0,legend:{display:!1}})},computed:{boardsTitles:function(){var t=this,e=this.boards.filter((function(e){return e.activities.some((function(e){return e.byMember._id===t.user._id}))})).map((function(t){return t.title}));return e},activitiesPerBoard:function(){var t=this;return this.boards.filter((function(e){return e.activities.some((function(e){return e.byMember._id===t.user._id}))})).map((function(e){var a=0;return e.activities.forEach((function(e){e.byMember._id===t.user._id&&a++})),a}))}}},Fi=Ni,Hi=Object(g["a"])(Fi,Qt,Yt,!1,null,null,null),Ji=Hi.exports,zi={props:{boards:Array,user:Object},components:{cardsChart:Ui,activityChart:Ji}},Gi=zi,Vi=Object(g["a"])(Gi,Ii,Oi,!1,null,null,null),qi=Vi.exports,Wi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"template-boards-container"},[t._m(0),a("div",{staticClass:"boards-list-lg"},t._l(t.templateToEdit,(function(e){return a("board-preview",{key:e._id,attrs:{display:"large",board:e},nativeOn:{click:function(a){return t.createTemplate(e)}}})})),1)])},Qi=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"boards-list-header"},[a("h3",{staticClass:"boards-list-header-name"},[t._v("AVAILABLE TEMPLATES")]),a("div",[a("div",{staticClass:"boards-page-board-section-header-icon"},[a("span",{staticClass:"icon-lg icon-organization"})]),a("h3",{staticClass:"boards-page-board-section-header-name"},[t._v("Premade Templates")])])])}],Yi={components:{boardPreview:f},data:function(){return{templateToEdit:null}},computed:{templates:function(){return this.$store.getters.templates},loggedUser:function(){return this.$store.getters.loggedInUser}},methods:{createTemplate:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.createdBy=e.loggedUser,t.members.push(e.loggedUser),t.activities=[{id:w.makeId(),createdAt:Date.now(),byMember:e.loggedUser,txt:" created this board "}],a.prev=3,a.next=6,e.$store.dispatch({type:"addBoard",board:t});case 6:s=a.sent,e.$store.commit({type:"getBoardById",boardId:s._id}),e.$router.push("/board/".concat(s._id)),a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](3),console.log("cant save new template",a.t0);case 14:case"end":return a.stop()}}),a,null,[[3,11]])})))()}},created:function(){this.templateToEdit=JSON.parse(JSON.stringify(this.templates))}},Zi=Yi,Ki=Object(g["a"])(Zi,Wi,Qi,!1,null,null,null),Xi=Ki.exports,tr={components:{userDashboard:qi,boardPreview:f,boardsTemplates:Xi},data:function(){return{isBoards:!0,isTemplates:!1,isDashboard:!1}},created:function(){this.$store.commit("clearStyle")},computed:{selectedBoards:function(){return{"btn-selected":this.isBoards}},selectedTemplates:function(){return{"btn-selected":this.isTemplates}},selectedDashboard:function(){return{"btn-selected":this.isDashboard}},boards:function(){return this.$store.getters.boards},loggedinUser:function(){return this.$store.getters.loggedInUser.fullname},user:function(){return this.$store.getters.loggedInUser}},methods:{showBoard:function(t){this.$router.push("/board/".concat(t))},showBoards:function(){this.isBoards=!0,this.isDashboard=!1,this.isTemplates=!1},showTemplates:function(){this.isBoards=!1,this.isDashboard=!1,this.isTemplates=!0},showDashboard:function(){this.isBoards=!1,this.isTemplates=!1,this.isDashboard=!0}}},er=tr,ar=Object(g["a"])(er,ji,Bi,!1,null,null,null),sr=ar.exports,ir=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"login-page"},[t.isSignup?a("h3",[t._v("Sign Up")]):a("h3",[t._v("Log in to Trailing")]),a("form",[t.isSignup?a("el-input",{attrs:{placeholder:"Username"},model:{value:t.signupCr.username,callback:function(e){t.$set(t.signupCr,"username",e)},expression:"signupCr.username"}}):a("el-input",{attrs:{placeholder:"Username"},model:{value:t.loginCr.username,callback:function(e){t.$set(t.loginCr,"username",e)},expression:"loginCr.username"}}),t.isSignup?a("el-input",{attrs:{placeholder:"Password","show-password":""},model:{value:t.signupCr.password,callback:function(e){t.$set(t.signupCr,"password",e)},expression:"signupCr.password"}}):a("el-input",{attrs:{placeholder:"Password","show-password":""},model:{value:t.loginCr.password,callback:function(e){t.$set(t.loginCr,"password",e)},expression:"loginCr.password"}}),a("transition",{attrs:{name:"fade"}},[t.isSignup?a("el-input",{attrs:{placeholder:"Full Name"},model:{value:t.signupCr.fullname,callback:function(e){t.$set(t.signupCr,"fullname",e)},expression:"signupCr.fullname"}}):t._e()],1),t.isSignup?a("button",{staticClass:"btn signup",on:{click:t.signup}},[t._v(" Sign up ")]):a("button",{staticClass:"btn login",on:{click:t.login}},[t._v("Log in")])],1),t.isSignup?a("div",{staticClass:"link",on:{click:t.toggleSignup}},[t._v(" Already have an account ")]):a("div",{staticClass:"link",on:{click:t.toggleSignup}},[t._v("Sign up for an account")])])},rr=[],or={name:"Login",components:{},data:function(){return{loginCr:{username:"",password:""},signupCr:{username:"",password:"",fullname:""},isSignup:!1}},methods:{toggleSignup:function(){this.isSignup=!this.isSignup},login:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.loginCr.username&&t.loginCr.password){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,t.$store.dispatch({type:"login",userCred:t.loginCr});case 5:a=e.sent,a&&t.$router.push("/boards"),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),console.log(e.t0,"cant login");case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))()},signup:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.signupCr.username&&t.signupCr.password&&t.signupCr.fullname){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,t.$store.dispatch({type:"signup",userCred:t.signupCr});case 5:a=e.sent,a&&t.$router.push("/boards"),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),console.log(e.t0,"cant signup");case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))()}},created:function(){this.$store.commit("clearStyle")}},nr=or,cr=Object(g["a"])(nr,ir,rr,!1,null,null,null),lr=cr.exports,dr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{"margin-top":"10px"}},[a("button",{attrs:{type:"primary",size:"mini"},on:{click:t.addShape}},[t._v("Thêm shape")]),a("button",{attrs:{type:"primary",size:"mini"},on:{click:t.addLine}},[t._v("Thêm line")]),a("button",{attrs:{type:"primary",size:"mini"},on:{click:t.addArrow}},[t._v("Thêm mũi tên")]),a("button",{attrs:{type:"primary",size:"mini"},on:{click:t.addNote}},[t._v("Thêm note")]),a("button",{attrs:{type:"primary",size:"mini"}},[t._v("Tẩy")]),a("button",{attrs:{type:"primary",size:"mini"}},[t._v("Xoá")]),a("button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.exportToImage()}}},[t._v(" EXPORT ")]),a("button",{on:{click:t.addLabel}},[t._v("Add Label")])]),a("div",{staticClass:"page-center"},[a("v-stage",{ref:"stage",attrs:{config:t.stageSize},on:{mouseup:t.handleMouseup,mousemove:t.handleMousemove,touchend:t.handleMouseup,touchmove:t.handleMousemove,dblclick:t.addNote,mousedown:t.handleMousedown,touchstart:t.handleMousedown,click:t.touchEndLine}},[a("v-layer",{ref:"layer"},[a("v-image",{ref:"image",attrs:{config:{sceneFunc:function(t,e){t.beginPath(),t.strokeRect(1050,150,450,450),t.closePath(),t.fillStrokeShape(e)},fill:"#00D2FF",stroke:"black",strokeWidth:1}}})],1),a("v-layer",{ref:"layerDraw"}),a("v-layer",{ref:"layer2"},[t._l(t.listNote,(function(e){return a("v-text",{key:e.config.name,ref:e.config.name,refInFor:!0,attrs:{config:e.config},on:{click:t.editText,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?null:t.deleteItem.apply(null,arguments)}}})})),t._l(t.listLine,(function(e){return a("v-line",{key:e.config.name,ref:e.config.name,refInFor:!0,attrs:{config:e.config},on:{click:t.defineTarget}})})),t._l(t.listShape,(function(e){return a("v-rect",{key:e.config.name,ref:e.config.name,refInFor:!0,attrs:{config:e.config},on:{click:t.defineTarget}})})),t._l(t.listArrow,(function(e){return a("v-arrow",{key:e.config.name,ref:e.config.name,refInFor:!0,attrs:{config:e.config},on:{click:t.defineTarget}})})),t._l(t.listShape,(function(e){return a("v-label",{key:e.config.name,ref:e.config.name,refInFor:!0,attrs:{config:e.config},on:{click:t.defineTarget}})})),a("v-transformer",{ref:"transformerText",attrs:{config:{anchorStroke:"red",anchorFill:"red",anchorSize:5,borderStroke:"red",borderDash:[5,5],padding:5}},on:{transformstart:t.handleTransformStart,transformend:t.handleTransformEnd}})],2)],1)],1)])},ur=[],pr=(a("cb29"),3e3),hr=14,mr="Saira Semi Condensed",gr=window.innerWidth,br={},fr=null,vr=null,Cr=null,yr=null,kr=null,wr=null,_r=null,xr=null,Tr={data:function(){return{stageSize:{width:gr,height:pr},numberRefs:0,listShape:[],listLine:[],listNote:[],listArrow:[],listLabel:[],image:null,isPaint:!1,lastPointerPosition:{x:0,y:0},pointerPosition:{x:0,y:0},isAddLine:!1,numberToCheckAddLine:0,selectedShapeName:""}},methods:{deleteItem:function(t){if(46===t.which&&""!==this.selectedShapeName){_r=this.$refs[this.selectedShapeName][0].getNode();var e=this.$refs.transformerText.getStage();e.detach(),e.getLayer().batchDraw(),_r.destroy(),Cr.draw()}},addTransformerImmediate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";_r=br.$refs[t][0].getNode(),this.selectedShapeName=t,this.updateTransformer()},addNote:function(){var t=this;this.numberRefs+=1;var e={config:{width:150,text:"ghi chú mới",fontSize:hr,fontFamily:mr,draggable:!0,name:"text".concat(this.numberRefs),x:this.lastPointerPosition.x||100,y:this.lastPointerPosition.y||0,ellipsis:!0,fill:"red",backgroundColor:"#FFAAFF"}},a=this.listNote.length;this.$set(this.listNote,a,e),this.$nextTick((function(){t.addTransformerImmediate(t.listNote[a].config.name)}))},addLabel:function(){var t=this;this.numberRefs+=1;var e={config:{width:150,text:"ghi chú mới",fontSize:hr,fontFamily:mr,draggable:!0,name:"label".concat(this.numberRefs),x:this.lastPointerPosition.x||100,y:this.lastPointerPosition.y||0,ellipsis:!0,fill:"red",backgroundColor:"#FFAAFF"}},a=this.listLabel.length;this.$set(this.listLabel,a,e),this.$nextTick((function(){t.addTransformerImmediate(t.listLabel[a].config.name)}))},addLine:function(){this.isAddLine=!0},touchEndLine:function(){var t=this;if(this.isAddLine)if(this.numberToCheckAddLine+=1,this.pointerPosition=fr.getPointerPosition(),this.numberToCheckAddLine%2!==0){this.numberRefs+=1;var e={config:{x:this.pointerPosition.x||20,y:this.pointerPosition.y||200,points:[0,0,0,0,5,0],closed:!0,draggable:!0,padding:10,name:"line".concat(this.numberRefs),stroke:"red",strokeWidth:3}},a=this.listLine.length;this.$set(this.listLine,a,e),this.$nextTick((function(){t.addTransformerImmediate(t.listLine[a].config.name)}))}else this.listLine.forEach((function(e){if(e.config.name===t.selectedShapeName){var a=e.config.x;t.$set(e.config.points,4,t.pointerPosition.x-a),t.addTransformerImmediate(e.config.name),t.$forceUpdate(),t.selectedShapeName="",t.updateTransformer(),t.isAddLine=!1}}))},addShape:function(){var t=this;this.numberRefs+=1;var e={config:{x:150,y:150,width:100,height:25,stroke:"red",strokeWidth:.5,name:"shape".concat(this.numberRefs),draggable:!0}},a=this.listShape.length;this.$set(this.listShape,a,e),this.$nextTick((function(){t.addTransformerImmediate(t.listShape[a].config.name)}))},addArrow:function(){var t=this;this.numberRefs+=1;var e={config:{x:100,y:100,points:[120,0,250,0],pointerLength:20,pointerWidth:15,name:"arrow".concat(this.numberRefs),stroke:"red",fill:"red",draggable:!0,strokeWidth:1}},a=this.listArrow.length;this.$set(this.listArrow,a,e),this.$nextTick((function(){t.addTransformerImmediate(t.listArrow[a].config.name)}))},allowPaint:function(){this.isPaint=!0,this.lastPointerPosition=fr.getPointerPosition()},handleMousedown:function(t){if(t.target===t.target.getStage())return this.allowPaint(),!this.isAddLine&&(this.selectedShapeName=""),void this.updateTransformer();var e="Transformer"===t.target.getParent().className;if(e)this.allowPaint();else{var a=t.target.name(),s=_r;s?this.selectedShapeName=a:!this.isAddLine&&(this.selectedShapeName=""),this.updateTransformer()}},handleMouseup:function(){this.isPaint=!1},handleMousemove:function(){if(this.isPaint){kr.globalCompositeOperation="source-over",kr.beginPath(),kr.strokeStyle="#df4b26",kr.lineWidth=1;var t={x:this.lastPointerPosition.x,y:this.lastPointerPosition.y};kr.moveTo(t.x,t.y);var e=fr.getPointerPosition();t={x:e.x,y:e.y},kr.lineTo(t.x,t.y),kr.closePath(),kr.stroke(),this.lastPointerPosition=e,vr.batchDraw()}},updateTransformer:function(){var t=this.$refs.transformerText.getStage(),e=t.getStage(),a=this.selectedShapeName,s=e.findOne("."+a);s!==t.node()&&(s?t.attachTo(s):t.detach(),t.getLayer().batchDraw())},defineTarget:function(t){br=this,_r=br.$refs[t.target.attrs.name][0].getNode()},editText:function(t){br=this,_r=br.$refs[t.target.attrs.name][0].getNode(),_r.hide(),xr.hide(),Cr.draw();var e=_r.absolutePosition(),a=fr.container().getBoundingClientRect(),s={x:a.left+e.x,y:a.top+e.y},i=document.createElement("textarea");document.body.appendChild(i),i.value=_r.text(),i.style.position="absolute",i.style.top=s.y+"px",i.style.left=s.x+"px",i.style.width=_r.width()-2*_r.padding()+"px",i.style.height=_r.height()-2*_r.padding()+5+"px",i.style.fontSize=_r.fontSize()+"px",i.style.border="none",i.style.padding="0px",i.style.margin="0px",i.style.overflow="hidden",i.style.background="blue",i.style.outline="none",i.style.resize="none",i.style.lineHeight=_r.lineHeight(),i.style.fontFamily=_r.fontFamily(),i.style.transformOrigin="left top",i.style.textAlign=_r.align(),i.style.color=_r.fill();var r=_r.rotation(),o="";r&&(o+="rotateZ("+r+"deg)");var n=0,c=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;function l(){i.parentNode.removeChild(i),window.removeEventListener("click",u),_r.show(),xr.show(),xr.forceUpdate(),Cr.draw()}function d(t){t||(t=_r.placeholder.length*_r.fontSize());var e=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),a=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;(e||a)&&(t=Math.ceil(t));var s=document.documentMode||/Edge/.test(navigator.userAgent);s&&(t+=1),i.style.width=t+"px"}function u(t){t.target!==i&&l()}c&&(n+=2+Math.round(_r.fontSize()/20)),o+="translateY(-"+n+"px)",i.style.transform=o,i.style.height="auto",i.style.height=i.scrollHeight+3+"px",i.focus(),i.addEventListener("keydown",(function(t){13!==t.keyCode||t.shiftKey||(_r.text(i.value),l()),27===t.keyCode&&l()})),i.addEventListener("keydown",(function(){var t=_r.getAbsoluteScale().x;d(_r.width()*t),i.style.height="auto",i.style.height=i.scrollHeight+_r.fontSize()+"px"})),setTimeout((function(){window.addEventListener("click",u)}))},handleTransformEnd:function(t){console.log(t)},handleTransformStart:function(t){console.log(t)},downloadURI:function(t,e){var a=document.createElement("a");a.download=e,a.href=t,document.body.appendChild(a),a.click(),document.body.removeChild(a),a=""},exportToImage:function(){var t=fr.toDataURL({pixelRatio:3});this.downloadURI(t,"stage.png")}},mounted:function(){var t=this;br=this,vr=br.$refs.layer.getNode(),Cr=br.$refs.layer2.getNode(),yr=br.$refs.layerDraw.getNode(),fr=br.$refs.stage.getNode(),xr=br.$refs.transformerText.getNode();var e=new Image;e.src="~@/assets/img/background-choose-photos.jpg",e.onload=function(){wr=document.querySelectorAll("canvas");var a=wr[0],s=a.getContext("2d");t.$set(t.stageSize,"height",e.height),t.$set(t.stageSize,"width",e.width),t.image=e,a.width=e.width,a.height=e.height,s.drawImage(e,0,0)},wr=document.querySelectorAll("canvas"),wr=wr[wr.length-2],kr=wr.getContext("2d"),fr.draw(),vr.draw(),yr.draw()},created:function(){window.addEventListener("keyup",this.deleteItem)},beforeDestroy:function(){}},Er=Tr,$r=(a("1931"),Object(g["a"])(Er,dr,ur,!1,null,null,null)),Ar=$r.exports,Lr=a("7591"),Sr=a.n(Lr);s["default"].use(_t["a"]),s["default"].use(Sr.a);var Mr=[{path:"/",name:"Home",component:Mi},{path:"/boards",name:"Boards",component:sr},{path:"/board/:boardId",name:"Board",component:Ti},{path:"/login",name:"Login",component:lr},{path:"/canvas",name:"Canvas",component:Ar}],jr=new _t["a"]({routes:Mr}),Br=jr,Ir=a("2f62"),Or=(a("4d63"),a("ac1f"),a("25f0"),"/api/"),Dr=k.a.create({withCredentials:!0}),Pr={get:function(t,e){return Rr(t,"GET",e)},post:function(t,e){return Rr(t,"POST",e)},put:function(t,e){return Rr(t,"PUT",e)},delete:function(t,e){return Rr(t,"DELETE",e)}};function Rr(t){return Ur.apply(this,arguments)}function Ur(){return Ur=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a,s,i,r=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:"GET",s=r.length>2&&void 0!==r[2]?r[2]:null,t.prev=2,t.next=5,Dr({url:"".concat(Or).concat(e),method:a,data:s,params:"GET"===a?s:null});case 5:return i=t.sent,t.abrupt("return",i.data);case 9:throw t.prev=9,t.t0=t["catch"](2),console.log("Had Issues ".concat(a,"ing to the backend, endpoint: ").concat(e,", with data:"),s),console.dir(t.t0),t.t0.response&&401===t.t0.response.status&&Br.push("/login"),t.t0;case 15:case"end":return t.stop()}}),t,null,[[2,9]])}))),Ur.apply(this,arguments)}var Nr="board/",Fr={query:Hr,getById:zr,remove:Vr,add:Wr,save:Yr};function Hr(){return Jr.apply(this,arguments)}function Jr(){return Jr=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Pr.get(Nr);case 3:return e=t.sent,t.abrupt("return",e);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),Jr.apply(this,arguments)}function zr(t){return Gr.apply(this,arguments)}function Gr(){return Gr=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=Pr.get(Nr+e),t.abrupt("return",a);case 5:t.prev=5,t.t0=t["catch"](0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])}))),Gr.apply(this,arguments)}function Vr(t){return qr.apply(this,arguments)}function qr(){return qr=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Pr.delete("board/".concat(e));case 3:return a=t.sent,t.abrupt("return",a);case 7:t.prev=7,t.t0=t["catch"](0),console.log("Failed to delete board",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),qr.apply(this,arguments)}function Wr(t){return Qr.apply(this,arguments)}function Qr(){return Qr=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=Pr.post(Nr,{board:e}),t.abrupt("return",a);case 5:t.prev=5,t.t0=t["catch"](0),console.log("couldn't create board",t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])}))),Qr.apply(this,arguments)}function Yr(t){return Zr.apply(this,arguments)}function Zr(){return Zr=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Pr.put(Nr,{board:e});case 3:return a=t.sent,t.abrupt("return",a);case 7:t.prev=7,t.t0=t["catch"](0),console.log("couldn't save board",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),Zr.apply(this,arguments)}Hr();var Kr={query:to},Xr=[{title:"Business",createdAt:Date.now(),createdBy:{_id:"",fullname:"",imgUrl:"http://some-img"},style:{type:"backgroundImage",content:a("2db6"),preview:a("a962"),props:{isDark:!0}},labels:[{id:"l101",title:"Done",color:"#61bd4f"},{id:"l102",title:"Almost",color:"#f2d600"},{id:"l103",title:"Nice",color:"#ff78cb"},{id:"l104",title:"Bad",color:"#eb5a46"}],members:[],groups:[{id:w.makeId(),title:"Your Template List",cards:[{id:w.makeId(),title:"Make a business plan"},{id:w.makeId(),title:"Add Samples"}]}],activities:[]},{title:"Design",createdAt:Date.now(),createdBy:{_id:"",fullname:"",imgUrl:"http://some-img"},style:{type:"backgroundImage",content:a("8437"),preview:a("df20"),props:{isDark:!0}},labels:[],members:[],groups:[{id:w.makeId(),title:"Your Template List",cards:[{id:w.makeId(),title:"Make your first design"},{id:w.makeId(),title:"Add Samples"}]}],activities:[]},{title:"Education",createdAt:Date.now(),createdBy:{_id:"",fullname:"",imgUrl:"http://some-img"},style:{type:"backgroundImage",content:a("062f"),preview:a("0ae7"),props:{isDark:!0}},labels:[],members:[],groups:[{id:w.makeId(),title:"Your Template List",cards:[{id:w.makeId(),title:"Prepare your first lesson"},{id:w.makeId(),title:"Add Samples"}]}],activities:[]},{title:"Marketing",createdAt:Date.now(),createdBy:{_id:"",fullname:"",imgUrl:"http://some-img"},style:{type:"backgroundImage",content:a("48ce"),preview:a("2b7b"),props:{isDark:!1}},labels:[],members:[],groups:[{id:w.makeId(),title:"Your Template List",cards:[{id:w.makeId(),title:"Make your first marketing plan"},{id:w.makeId(),title:"Add Samples"}]}],activities:[]}];function to(){return Xr}var eo={state:{selectedBoard:{},boards:null,currFilter:"",templates:Kr.query()},getters:{board:function(t){var e=t.selectedBoard;return e},boardStyle:function(t){var e=t.selectedBoard;if(e)return e.style},boards:function(t){var e=t.boards;return e},boardsForDisplay:function(t){var e=new RegExp(t.currFilter,"i");return""===t.currFilter?t.boards:t.boards.filter((function(t){if(e.test(t.title))return t}))},templates:function(t){return t.templates}},mutations:{getBoardById:function(t,e){return t.selectedBoard=t.boards.find((function(t){return t._id===e})),t.selectedBoard},setBoards:function(t,e){var a=e.boards;t.boards=a},saveBoard:function(t,e){var a=e.savedBoard,s=t.boards.findIndex((function(t){return t._id===a._id}));t.boards.splice(s,1,a),t.selectedBoard=a},addBoard:function(t,e){var a=e.board;t.boards.push(a),t.selectedBoard=a},clearStyle:function(t){t.selectedBoard=null},cardChanged:function(t,e){var a=e.card;t.selectedBoard.groups[a.gIdx].cards.splice(a.cIdx,1,a.payload)},groupsChanged:function(t,e){var a=e.groups;t.selectedBoard.groups=a},titleChanged:function(t,e){var a=e.title;t.selectedBoard.title=a},styleChanged:function(t,e){var a=e.style;t.selectedBoard.style=a.payload},membersChanged:function(t,e){var a=e.members;t.selectedBoard.members=a},activitiesChanged:function(t,e){var a=e.activities;t.selectedBoard.activities=a},setFilter:function(t,e){var a=e.filterBy;t.currFilter=a},removeBoard:function(t,e){var a=e.boardId,s=t.boards.findIndex((function(t){return t._id===a}));t.boards.splice(s,1)}},actions:{loadBoards:function(t){return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.prev=1,e.next=4,Fr.query();case 4:s=e.sent,a({type:"setBoards",boards:s}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log("Couldn't load boards");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()},addBoard:function(t,e){return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.commit,i=e.board,a.prev=2,a.next=5,Fr.add(i);case 5:return i=a.sent,s({type:"addBoard",board:i}),a.abrupt("return",i);case 10:throw a.prev=10,a.t0=a["catch"](2),console.log("boardStore: Error in addBoard",a.t0),a.t0;case 14:case"end":return a.stop()}}),a,null,[[2,10]])})))()},removeBoard:function(t,e){return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.commit,i=e.boardId,a.prev=2,a.next=5,Fr.remove(i);case 5:s({type:"removeBoard",boardId:i}),a.next=12;break;case 8:throw a.prev=8,a.t0=a["catch"](2),console.log("boardStore: Error in removeBoard",a.t0),a.t0;case 12:case"end":return a.stop()}}),a,null,[[2,8]])})))()},saveBoard:function(t,e){return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.commit,i=e.board,a.prev=2,a.next=5,Fr.save(i);case 5:r=a.sent,s({type:"saveBoard",savedBoard:r}),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](2),console.log("couldn't save board",a.t0);case 12:case"end":return a.stop()}}),a,null,[[2,9]])})))()}}},ao=a("2909"),so={query:io,get:oo,post:no,put:co,remove:lo,postMany:ro};function io(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,a=JSON.parse(localStorage.getItem(t))||[];return new Promise((function(t){setTimeout((function(){t(a)}),e)}))}function ro(t,e){return io(t).then((function(a){return a.push.apply(a,Object(ao["a"])(e)),uo(t,a),a}))}function oo(t,e){return io(t).then((function(t){return t.find((function(t){return t._id===e}))}))}function no(t,e){return e._id=w.makeId(),io(t).then((function(a){return a.push(e),uo(t,a),e}))}function co(t,e){return io(t).then((function(a){var s=a.findIndex((function(t){return t._id===e._id}));return a.splice(s,1,e),uo(t,a),e}))}function lo(t,e){return io(t).then((function(a){var s=a.findIndex((function(t){return t._id===e}));if(s<0)throw new Error("Unknown Entity ".concat(e));a.splice(s,1),uo(t,a)}))}function uo(t,e){localStorage.setItem(t,JSON.stringify(e))}var po="loggedinUser",ho="allUsers",mo="user/",go={query:vo,login:Eo,logout:So,signup:Ao,getById:yo,remove:wo,update:xo,getLoggedinUser:jo,addMention:bo};function bo(t){return fo.apply(this,arguments)}function fo(){return fo=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Pr.put("user/".concat(e.userId,"/mention"),e);case 3:return a=t.sent,t.abrupt("return",a);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),fo.apply(this,arguments)}function vo(){return Co.apply(this,arguments)}function Co(){return Co=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Pr.get(mo);case 3:if(e=t.sent,e.length){t.next=7;break}return so.postMany(ho,e),t.abrupt("return",e);case 7:return t.abrupt("return",e);case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])}))),Co.apply(this,arguments)}function yo(t){return ko.apply(this,arguments)}function ko(){return ko=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Pr.get("user/".concat(e));case 3:return a=t.sent,t.abrupt("return",a);case 7:t.prev=7,t.t0=t["catch"](0),console.log("Failed to get user",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),ko.apply(this,arguments)}function wo(t){return _o.apply(this,arguments)}function _o(){return _o=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.abrupt("return",Pr.delete("user/".concat(e)));case 4:t.prev=4,t.t0=t["catch"](0),console.log("Failed to delete user",t.t0);case 7:case"end":return t.stop()}}),t,null,[[0,4]])}))),_o.apply(this,arguments)}function xo(t){return To.apply(this,arguments)}function To(){return To=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Pr.put("user/".concat(e._id),e);case 3:return e=t.sent,(jo()._id===e._id||jo.isAdmin)&&Bo(e),t.abrupt("return",e);case 8:t.prev=8,t.t0=t["catch"](0),console.log("Failed to update user",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),To.apply(this,arguments)}function Eo(t){return $o.apply(this,arguments)}function $o(){return $o=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Pr.post("auth/login",e);case 3:if(a=t.sent,!a){t.next=6;break}return t.abrupt("return",Bo(a));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log("username or password are incorrect",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),$o.apply(this,arguments)}function Ao(t){return Lo.apply(this,arguments)}function Lo(){return Lo=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Pr.post("auth/signup",e);case 3:return a=t.sent,t.abrupt("return",Bo(a));case 7:t.prev=7,t.t0=t["catch"](0),console.log("Failed to create user",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),Lo.apply(this,arguments)}function So(){return Mo.apply(this,arguments)}function Mo(){return Mo=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,sessionStorage.removeItem(po),t.next=4,Pr.post("auth/logout");case 4:return t.abrupt("return",t.sent);case 7:t.prev=7,t.t0=t["catch"](0),console.log("failed to logout",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),Mo.apply(this,arguments)}function jo(){return JSON.parse(sessionStorage.getItem(po)||"null")}function Bo(t){return sessionStorage.setItem(po,JSON.stringify(t)),t}window.userService=go;var Io={state:{users:[],loggedInUser:go.getLoggedinUser()||{username:"guest",fullname:"Guest User",_id:""}},getters:{loggedInUser:function(t){return t.loggedInUser},users:function(t){return t.users},user:function(t){return t.users.find((function(e){return e._id===t.loggedInUser._id}))||{username:"guest",fullname:"Guest User",_id:""}}},mutations:{setLoggedinUser:function(t,e){var a=e.user;t.loggedInUser=JSON.parse(JSON.stringify(a))},setUsers:function(t,e){var a=e.users;t.users=a},updateUser:function(t,e){var a=e.updatedUser,s=a._id,i=t.users.findIndex((function(t){return t._id===s}));t.users.splice(i,1,a)},updateMention:function(t,e){var a=e.mention,s=a.userId,i=t.users.findIndex((function(t){return t._id===s}));t.users[i].mentions.unshift(a)}},actions:{getById:function(t,e){return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.userId,t.prev=1,t.next=4,go.getById(a);case 4:return s=t.sent,t.abrupt("return",s);case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()},addMention:function(t,e){return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.commit,i=e.mention,a.prev=2,a.next=5,go.addMention(i);case 5:r=a.sent,s({type:"updateUser",updatedUser:r}),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](2),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[2,9]])})))()},updateUser:function(t,e){return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.commit,i=e.userToUpdate,a.prev=2,a.next=5,go.update(i);case 5:r=a.sent,s({type:"updateUser",updatedUser:r}),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](2),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[2,9]])})))()},loadUsers:function(t){return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.prev=1,e.next=4,go.query();case 4:s=e.sent,a({type:"setUsers",users:s}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log("Couldn't load users");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()},login:function(t,e){return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.commit,i=e.userCred,a.prev=2,a.next=5,go.login(i);case 5:return r=a.sent,dt.emit("user-watch",r._id),s({type:"setLoggedinUser",user:r}),a.abrupt("return",r);case 11:throw a.prev=11,a.t0=a["catch"](2),console.log("userStore: Error in login",a.t0),a.t0;case 15:case"end":return a.stop()}}),a,null,[[2,11]])})))()},signup:function(t,e){return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.commit,i=e.userCred,a.prev=2,a.next=5,go.signup(i);case 5:return r=a.sent,s({type:"setLoggedinUser",user:r}),a.abrupt("return",r);case 10:throw a.prev=10,a.t0=a["catch"](2),console.log("userStore: Error in signup",a.t0),a.t0;case 14:case"end":return a.stop()}}),a,null,[[2,10]])})))()},logout:function(t){return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.prev=1,e.next=4,go.logout();case 4:a({type:"setLoggedinUser",user:{username:"guest",fullname:"Guest User"}}),e.next=11;break;case 7:throw e.prev=7,e.t0=e["catch"](1),console.log("userStore: Error in logout",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,7]])})))()}}};s["default"].use(Ir["a"]);var Oo=new Ir["a"].Store({strict:!0,state:{},mutations:{},actions:{},modules:{boardStore:eo,userStore:Io}}),Do=a("f5af"),Po=a.n(Do),Ro=(a("3c61"),a("e829"),a("b2d6")),Uo=a.n(Ro);s["default"].use(wt.a,{locale:Uo.a}),s["default"].use(Sr.a),s["default"].config.productionTip=!1,s["default"].use(a("2ead")),new s["default"]({created:function(){Po.a.init()},router:Br,store:Oo,render:function(t){return t(Ct)}}).$mount("#app")},"5e4c":function(t,e,a){t.exports=a.p+"img/loader.516fef1b.svg"},"5e88":function(t,e,a){t.exports=a.p+"img/background-choose-photos.5b1e4ecf.jpg"},7043:function(t,e,a){t.exports=a.p+"img/emp4.1690a3c0.jpg"},"773a":function(t,e,a){t.exports=a.p+"img/emp2.cb6c7487.jpg"},"83a9":function(t,e,a){t.exports=a.p+"img/emp3.3a9b2355.jpg"},8437:function(t,e,a){t.exports=a.p+"img/design-large.a0f82d07.jpg"},8545:function(t,e,a){t.exports=a.p+"img/check.54b9520b.png"},"8cdd":function(t,e,a){t.exports=a.p+"img/background-choose-colors.bda927fb.jpg"},a962:function(t,e,a){t.exports=a.p+"img/business-small.0ac5443b.jpg"},b103:function(t,e,a){t.exports=a.p+"img/homepage-2-img.b976f124.jpg"},b676:function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));var s=a("1da1"),i=(a("96cf"),a("d3b7"),a("99af"),a("bc3a")),r=a.n(i),o=function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var a,s,i,o,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="dsnxbqbvl",s="jcxq5ftd",i="https://api.cloudinary.com/v1_1/".concat(a,"/").concat(e.type,"/upload"),t.prev=3,t.next=6,r()({method:"get",url:e.url,responseType:"blob"});case 6:return o=t.sent,n=new FileReader,n.readAsDataURL(o.data),t.abrupt("return",new Promise((function(t){n.onloadend=function(){var e=n.result,a=new FormData;a.append("file",e),a.append("upload_preset",s),r.a.post(i,a).then((function(e){t(e.data)}))}})));case 12:t.prev=12,t.t0=t["catch"](3),console.error("ERROR!",t.t0);case 15:case"end":return t.stop()}}),t,null,[[3,12]])})));return function(e){return t.apply(this,arguments)}}()},bf6f:function(t,e,a){t.exports=a.p+"img/5-stars.d1a9af00.png"},df20:function(t,e,a){t.exports=a.p+"img/design-small.f9feb1d1.jpg"}});
//# sourceMappingURL=app.791e1058.js.map